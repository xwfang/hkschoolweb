import{t as e}from"./arrow-left-CiUUzFHZ.js";import{t}from"./refresh-cw-9lHHH24g.js";import{I as n,N as r,P as i,j as a,l as o,n as s,r as c,s as l}from"./index-DUjOKN6m.js";import{n as u,t as d}from"./card-pF5A2EPj.js";import{n as f,r as p,t as m}from"./button-BRHYo3UI.js";var h=l(`info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),g=l(`pause`,[[`rect`,{x:`14`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`kaeet6`}],[`rect`,{x:`5`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`1wsw3u`}]]),_=l(`play`,[[`path`,{d:`M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z`,key:`10ikf1`}]]),v=l(`square`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}]]),y=l(`volume-2`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`path`,{d:`M16 9a5 5 0 0 1 0 6`,key:`1q6k2b`}],[`path`,{d:`M19.364 18.364a9 9 0 0 0 0-12.728`,key:`ijwkga`}]]),b=n(i(),1),x=o(),S=b.forwardRef(({className:e,checked:t,onCheckedChange:n,...r},i)=>(0,x.jsx)(`button`,{type:`button`,role:`switch`,"aria-checked":t,onClick:()=>n?.(!t),className:c(`peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50`,t?`bg-primary`:`bg-input`,e),ref:i,...r,children:(0,x.jsx)(`span`,{className:c(`pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform`,t?`translate-x-5`:`translate-x-0`)})}));S.displayName=`Switch`;var C=b.forwardRef(({className:e,...t},n)=>(0,x.jsx)(`textarea`,{className:c(`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50`,e),ref:n,...t}));C.displayName=`Textarea`;var w=b.forwardRef(({className:e,value:t,min:n,max:r,step:i,onValueChange:a,...o},s)=>(0,x.jsx)(`input`,{type:`range`,min:n,max:r,step:i,value:t[0],onChange:e=>a([parseFloat(e.target.value)]),className:c(`w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary`,e),ref:s,...o}));w.displayName=`Slider`;var T=b.forwardRef(({className:e,...t},n)=>(0,x.jsx)(`label`,{ref:n,className:c(`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70`,e),...t}));T.displayName=`Label`;function ee(){let[e,t]=(0,b.useState)([]),[n,r]=(0,b.useState)(!1),[i,a]=(0,b.useState)(!1),o=(0,b.useRef)(null),s=(0,b.useRef)(null);(0,b.useEffect)(()=>{if(typeof window<`u`&&window.speechSynthesis){o.current=window.speechSynthesis;let e=()=>{t(window.speechSynthesis.getVoices())};e(),window.speechSynthesis.onvoiceschanged=e;let n=setInterval(()=>{let e=window.speechSynthesis.getVoices();e.length>0&&t(e)},500),r=setTimeout(()=>{clearInterval(n)},5e3);return()=>{window.speechSynthesis.onvoiceschanged=null,clearInterval(n),clearTimeout(r),o.current&&o.current.cancel()}}},[]);let c=(0,b.useCallback)((t,n={})=>{if(!o.current)return;o.current.cancel();let i=new SpeechSynthesisUtterance(t);if(n.rate&&(i.rate=n.rate),n.pitch&&(i.pitch=n.pitch),n.volume&&(i.volume=n.volume),n.voice)i.voice=n.voice;else if(n.lang){let t=e.filter(e=>e.lang.startsWith(n.lang));t.length>0&&(i.voice=t.find(e=>e.name.includes(`Google`))||t[0])}i.onstart=()=>{r(!0),a(!1)},i.onend=()=>{r(!1),a(!1)},i.onerror=e=>{console.error(`Speech synthesis error`,e),r(!1),a(!1)},s.current=i,o.current.speak(i)},[e]),l=(0,b.useCallback)(()=>{o.current&&(o.current.cancel(),r(!1),a(!1))},[]),u=(0,b.useCallback)(()=>{o.current&&(o.current.pause(),a(!0))},[]),d=(0,b.useCallback)(()=>{o.current&&(o.current.resume(),a(!1))},[]),f=(0,b.useCallback)(()=>{if(typeof window<`u`&&window.speechSynthesis){let e=window.speechSynthesis.getVoices();e.length>0?t(e):window.speechSynthesis.getVoices()}},[]);return{voices:(0,b.useMemo)(()=>{let t=`Agnes.Albert.Bad News.Bahh.Bells.Boing.Bruce.Bubbles.Cellos.Deranged.Fred.Good News.Hysterical.Junior.Kathy.Pipe Organ.Princess.Ralph.Trinoids.Vicki.Victoria.Whisper.Zarvox.Organ.Jester.Superstar.Wobble.Grandma.Grandpa.Eddy.Flo.Reed.Rocko.Sandy.Shelley`.split(`.`);return e.filter(e=>{let n=e.lang.toLowerCase(),r=e.name,i=n.includes(`zh`)||n.includes(`cn`)||n.includes(`hk`)||n.includes(`tw`)||n.includes(`en`),a=t.some(e=>r.includes(e));return i&&!a}).sort((e,t)=>e.name.localeCompare(t.name))},[e]),speaking:n,paused:i,speak:c,cancel:l,pause:u,resume:d,refreshVoices:f}}typeof window<`u`&&window.document&&window.document.createElement;function E(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function D(e,t=[]){let n=[];function r(t,r){let i=b.createContext(r),a=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,s=n?.[e]?.[a]||i,c=b.useMemo(()=>o,Object.values(o));return(0,x.jsx)(s.Provider,{value:c,children:r})};o.displayName=t+`Provider`;function s(n,o){let s=o?.[e]?.[a]||i,c=b.useContext(s);if(c)return c;if(r!==void 0)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}return[o,s]}let i=()=>{let t=n.map(e=>b.createContext(e));return function(n){let r=n?.[e]||t;return b.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return i.scopeName=e,[r,O(i,...t)]}function O(...e){let t=e[0];if(e.length===1)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e)[`__scope${r}`];return{...t,...i}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var k=n(r(),1);function A(e){let t=j(e),n=b.forwardRef((e,n)=>{let{children:r,...i}=e,a=b.Children.toArray(r),o=a.find(N);if(o){let e=o.props.children,r=a.map(t=>t===o?b.Children.count(e)>1?b.Children.only(null):b.isValidElement(e)?e.props.children:null:t);return(0,x.jsx)(t,{...i,ref:n,children:b.isValidElement(e)?b.cloneElement(e,void 0,r):null})}return(0,x.jsx)(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function j(e){let t=b.forwardRef((e,t)=>{let{children:n,...r}=e;if(b.isValidElement(n)){let e=P(n),i=te(r,n.props);return n.type!==b.Fragment&&(i.ref=t?f(t,e):e),b.cloneElement(n,i)}return b.Children.count(n)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var M=Symbol(`radix.slottable`);function N(e){return b.isValidElement(e)&&typeof e.type==`function`&&`__radixId`in e.type&&e.type.__radixId===M}function te(e,t){let n={...t};for(let r in t){let i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(n[r]=i):r===`style`?n[r]={...i,...a}:r===`className`&&(n[r]=[i,a].filter(Boolean).join(` `))}return{...e,...n}}function P(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var F=[`a`,`button`,`div`,`form`,`h2`,`h3`,`img`,`input`,`label`,`li`,`nav`,`ol`,`p`,`select`,`span`,`svg`,`ul`].reduce((e,t)=>{let n=A(`Primitive.${t}`),r=b.forwardRef((e,r)=>{let{asChild:i,...a}=e,o=i?n:t;return typeof window<`u`&&(window[Symbol.for(`radix-ui`)]=!0),(0,x.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function I(e,t){e&&k.flushSync(()=>e.dispatchEvent(t))}function ne(e){let t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...e)=>t.current?.(...e),[])}function L(e,t=globalThis?.document){let n=ne(e);b.useEffect(()=>{let e=e=>{e.key===`Escape`&&n(e)};return t.addEventListener(`keydown`,e,{capture:!0}),()=>t.removeEventListener(`keydown`,e,{capture:!0})},[n,t])}var re=`DismissableLayer`,R=`dismissableLayer.update`,ie=`dismissableLayer.pointerDownOutside`,ae=`dismissableLayer.focusOutside`,oe,se=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ce=b.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,l=b.useContext(se),[u,d]=b.useState(null),f=u?.ownerDocument??globalThis?.document,[,m]=b.useState({}),h=p(t,e=>d(e)),g=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(_),y=u?g.indexOf(u):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,C=y>=v,w=ue(e=>{let t=e.target,n=[...l.branches].some(e=>e.contains(t));!C||n||(i?.(e),o?.(e),e.defaultPrevented||s?.())},f),T=de(e=>{let t=e.target;[...l.branches].some(e=>e.contains(t))||(a?.(e),o?.(e),e.defaultPrevented||s?.())},f);return L(e=>{y===l.layers.size-1&&(r?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},f),b.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(oe=f.body.style.pointerEvents,f.body.style.pointerEvents=`none`),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),B(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=oe)}},[u,f,n,l]),b.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),B())},[u,l]),b.useEffect(()=>{let e=()=>m({});return document.addEventListener(R,e),()=>document.removeEventListener(R,e)},[]),(0,x.jsx)(F.div,{...c,ref:h,style:{pointerEvents:S?C?`auto`:`none`:void 0,...e.style},onFocusCapture:E(e.onFocusCapture,T.onFocusCapture),onBlurCapture:E(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:E(e.onPointerDownCapture,w.onPointerDownCapture)})});ce.displayName=re;var le=`DismissableLayerBranch`,z=b.forwardRef((e,t)=>{let n=b.useContext(se),r=b.useRef(null),i=p(t,r);return b.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,x.jsx)(F.div,{...e,ref:i})});z.displayName=le;function ue(e,t=globalThis?.document){let n=ne(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){fe(ie,n,a,{discrete:!0})},a={originalEvent:e};e.pointerType===`touch`?(t.removeEventListener(`click`,i.current),i.current=r,t.addEventListener(`click`,i.current,{once:!0})):r()}else t.removeEventListener(`click`,i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener(`pointerdown`,e)},0);return()=>{window.clearTimeout(a),t.removeEventListener(`pointerdown`,e),t.removeEventListener(`click`,i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function de(e,t=globalThis?.document){let n=ne(e),r=b.useRef(!1);return b.useEffect(()=>{let e=e=>{e.target&&!r.current&&fe(ae,n,{originalEvent:e},{discrete:!1})};return t.addEventListener(`focusin`,e),()=>t.removeEventListener(`focusin`,e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function B(){let e=new CustomEvent(R);document.dispatchEvent(e)}function fe(e,t,n,{discrete:r}){let i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?I(i,a):i.dispatchEvent(a)}var V=globalThis?.document?b.useLayoutEffect:()=>{},pe=b.useId||(()=>void 0),me=0;function H(e){let[t,n]=b.useState(pe());return V(()=>{e||n(e=>e??String(me++))},[e]),e||(t?`radix-${t}`:``)}var he=[`top`,`right`,`bottom`,`left`],U=Math.min,W=Math.max,ge=Math.round,_e=Math.floor,G=e=>({x:e,y:e}),ve={left:`right`,right:`left`,bottom:`top`,top:`bottom`},ye={start:`end`,end:`start`};function be(e,t,n){return W(e,U(t,n))}function K(e,t){return typeof e==`function`?e(t):e}function q(e){return e.split(`-`)[0]}function xe(e){return e.split(`-`)[1]}function Se(e){return e===`x`?`y`:`x`}function Ce(e){return e===`y`?`height`:`width`}var we=new Set([`top`,`bottom`]);function J(e){return we.has(q(e))?`y`:`x`}function Te(e){return Se(J(e))}function Ee(e,t,n){n===void 0&&(n=!1);let r=xe(e),i=Te(e),a=Ce(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=Fe(o)),[o,Fe(o)]}function De(e){let t=Fe(e);return[Oe(e),t,Oe(t)]}function Oe(e){return e.replace(/start|end/g,e=>ye[e])}var ke=[`left`,`right`],Ae=[`right`,`left`],je=[`top`,`bottom`],Me=[`bottom`,`top`];function Ne(e,t,n){switch(e){case`top`:case`bottom`:return n?t?Ae:ke:t?ke:Ae;case`left`:case`right`:return t?je:Me;default:return[]}}function Pe(e,t,n,r){let i=xe(e),a=Ne(q(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(Oe)))),a}function Fe(e){return e.replace(/left|right|bottom|top/g,e=>ve[e])}function Ie(e){return{top:0,right:0,bottom:0,left:0,...e}}function Le(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:Ie(e)}function Re(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ze(e,t,n){let{reference:r,floating:i}=e,a=J(t),o=Te(t),s=Ce(o),c=q(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(xe(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var Be=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=ze(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=ze(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Ve(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=K(t,e),p=Le(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=Re(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=Re(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var He=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=K(e,t)||{};if(l==null)return{};let d=Le(u),f={x:n,y:r},p=Te(i),m=Ce(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,ee=U(d[_],T),E=U(d[v],T),D=ee,O=C-h[m]-E,k=C/2-h[m]/2+w,A=be(D,k,O),j=!c.arrow&&xe(i)!=null&&k!==A&&a.reference[m]/2-(k<D?ee:E)-h[m]/2<0,M=j?k<D?k-D:k-O:0;return{[p]:f[p]+M,data:{[p]:A,centerOffset:k-A-M,...j&&{alignmentOffset:M}},reset:j}}}),Ue=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=K(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=q(r),_=J(o),v=q(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[Fe(o)]:De(o)),x=p!==`none`;!d&&x&&b.push(...Pe(o,m,p,y));let S=[o,...b],C=await Ve(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=Ee(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==J(t))||T.every(e=>J(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=J(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}};function We(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ge(e){return he.some(t=>e[t]>=0)}var Ke=function(e){return e===void 0&&(e={}),{name:`hide`,options:e,async fn(t){let{rects:n}=t,{strategy:r=`referenceHidden`,...i}=K(e,t);switch(r){case`referenceHidden`:{let e=We(await Ve(t,{...i,elementContext:`reference`}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Ge(e)}}}case`escaped`:{let e=We(await Ve(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Ge(e)}}}default:return{}}}}},qe=new Set([`left`,`top`]);async function Je(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=q(n),s=xe(n),c=J(n)===`y`,l=qe.has(o)?-1:1,u=a&&c?-1:1,d=K(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var Ye=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await Je(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},Xe=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=K(e,t),l={x:n,y:r},u=await Ve(t,c),d=J(q(i)),f=Se(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=be(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=be(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}},Ze=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=K(e,t),u={x:n,y:r},d=J(i),f=Se(d),p=u[f],m=u[d],h=K(s,t),g=typeof h==`number`?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let e=f===`y`?`height`:`width`,t=a.reference[f]-a.floating[e]+g.mainAxis,n=a.reference[f]+a.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){let e=f===`y`?`width`:`height`,t=qe.has(q(i)),n=a.reference[d]-a.floating[e]+(t&&o.offset?.[d]||0)+(t?0:g.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:o.offset?.[d]||0)-(t?g.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[d]:m}}}},Qe=function(e){return e===void 0&&(e={}),{name:`size`,options:e,async fn(t){var n,r;let{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...l}=K(e,t),u=await Ve(t,l),d=q(i),f=xe(i),p=J(i)===`y`,{width:m,height:h}=a.floating,g,_;d===`top`||d===`bottom`?(g=d,_=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?`start`:`end`)?`left`:`right`):(_=d,g=f===`end`?`top`:`bottom`);let v=h-u.top-u.bottom,y=m-u.left-u.right,b=U(h-u[g],v),x=U(m-u[_],y),S=!t.middlewareData.shift,C=b,w=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(w=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!f){let e=W(u.left,0),t=W(u.right,0),n=W(u.top,0),r=W(u.bottom,0);p?w=m-2*(e!==0||t!==0?e+t:W(u.left,u.right)):C=h-2*(n!==0||r!==0?n+r:W(u.top,u.bottom))}await c({...t,availableWidth:w,availableHeight:C});let T=await o.getDimensions(s.floating);return m!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function $e(){return typeof window<`u`}function et(e){return tt(e)?(e.nodeName||``).toLowerCase():`#document`}function Y(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function X(e){return((tt(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function tt(e){return $e()?e instanceof Node||e instanceof Y(e).Node:!1}function Z(e){return $e()?e instanceof Element||e instanceof Y(e).Element:!1}function Q(e){return $e()?e instanceof HTMLElement||e instanceof Y(e).HTMLElement:!1}function nt(e){return!$e()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof Y(e).ShadowRoot}var rt=new Set([`inline`,`contents`]);function it(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=$(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!rt.has(i)}var at=new Set([`table`,`td`,`th`]);function ot(e){return at.has(et(e))}var st=[`:popover-open`,`:modal`];function ct(e){return st.some(t=>{try{return e.matches(t)}catch{return!1}})}var lt=[`transform`,`translate`,`scale`,`rotate`,`perspective`],ut=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],dt=[`paint`,`layout`,`strict`,`content`];function ft(e){let t=mt(),n=Z(e)?$(e):e;return lt.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||ut.some(e=>(n.willChange||``).includes(e))||dt.some(e=>(n.contain||``).includes(e))}function pt(e){let t=vt(e);for(;Q(t)&&!gt(t);){if(ft(t))return t;if(ct(t))return null;t=vt(t)}return null}function mt(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var ht=new Set([`html`,`body`,`#document`]);function gt(e){return ht.has(et(e))}function $(e){return Y(e).getComputedStyle(e)}function _t(e){return Z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vt(e){if(et(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||nt(e)&&e.host||X(e);return nt(t)?t.host:t}function yt(e){let t=vt(e);return gt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Q(t)&&it(t)?t:yt(t)}function bt(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=yt(e),i=r===e.ownerDocument?.body,a=Y(r);if(i){let e=xt(a);return t.concat(a,a.visualViewport||[],it(r)?r:[],e&&n?bt(e):[])}return t.concat(r,bt(r,[],n))}function xt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function St(e){let t=$(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Q(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=ge(n)!==a||ge(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Ct(e){return Z(e)?e:e.contextElement}function wt(e){let t=Ct(e);if(!Q(t))return G(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=St(t),o=(a?ge(n.width):n.width)/r,s=(a?ge(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var Tt=G(0);function Et(e){let t=Y(e);return!mt()||!t.visualViewport?Tt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dt(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Y(e)?!1:t}function Ot(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=Ct(e),o=G(1);t&&(r?Z(r)&&(o=wt(r)):o=wt(e));let s=Dt(a,n,r)?Et(a):G(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=Y(a),t=r&&Z(r)?Y(r):r,n=e,i=xt(n);for(;i&&r&&t!==n;){let e=wt(i),t=i.getBoundingClientRect(),r=$(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=Y(i),i=xt(n)}}return Re({width:u,height:d,x:c,y:l})}function kt(e,t){let n=_t(e).scrollLeft;return t?t.left+n:Ot(X(e)).left+n}function At(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-kt(e,n),y:n.top+t.scrollTop}}function jt(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=X(r),s=t?ct(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=G(1),u=G(0),d=Q(r);if((d||!d&&!a)&&((et(r)!==`body`||it(o))&&(c=_t(r)),Q(r))){let e=Ot(r);l=wt(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?At(o,c):G(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function Mt(e){return Array.from(e.getClientRects())}function Nt(e){let t=X(e),n=_t(e),r=e.ownerDocument.body,i=W(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=W(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+kt(e),s=-n.scrollTop;return $(r).direction===`rtl`&&(o+=W(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var Pt=25;function Ft(e,t){let n=Y(e),r=X(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=mt();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=kt(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=Pt&&(a-=o)}else l<=Pt&&(a+=l);return{width:a,height:o,x:s,y:c}}var It=new Set([`absolute`,`fixed`]);function Lt(e,t){let n=Ot(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Q(e)?wt(e):G(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function Rt(e,t,n){let r;if(t===`viewport`)r=Ft(e,n);else if(t===`document`)r=Nt(X(e));else if(Z(t))r=Lt(t,n);else{let n=Et(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Re(r)}function zt(e,t){let n=vt(e);return n===t||!Z(n)||gt(n)?!1:$(n).position===`fixed`||zt(n,t)}function Bt(e,t){let n=t.get(e);if(n)return n;let r=bt(e,[],!1).filter(e=>Z(e)&&et(e)!==`body`),i=null,a=$(e).position===`fixed`,o=a?vt(e):e;for(;Z(o)&&!gt(o);){let t=$(o),n=ft(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&It.has(i.position)||it(o)&&!n&&zt(e,o))?r=r.filter(e=>e!==o):i=t,o=vt(o)}return t.set(e,r),r}function Vt(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?ct(t)?[]:Bt(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=Rt(t,n,i);return e.top=W(r.top,e.top),e.right=U(r.right,e.right),e.bottom=U(r.bottom,e.bottom),e.left=W(r.left,e.left),e},Rt(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Ht(e){let{width:t,height:n}=St(e);return{width:t,height:n}}function Ut(e,t,n){let r=Q(t),i=X(t),a=n===`fixed`,o=Ot(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=G(0);function l(){c.x=kt(i)}if(r||!r&&!a)if((et(t)!==`body`||it(i))&&(s=_t(t)),r){let e=Ot(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?At(i,s):G(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function Wt(e){return $(e).position===`static`}function Gt(e,t){if(!Q(e)||$(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return X(e)===n&&(n=n.ownerDocument.body),n}function Kt(e,t){let n=Y(e);if(ct(e))return n;if(!Q(e)){let t=vt(e);for(;t&&!gt(t);){if(Z(t)&&!Wt(t))return t;t=vt(t)}return n}let r=Gt(e,t);for(;r&&ot(r)&&Wt(r);)r=Gt(r,t);return r&&gt(r)&&Wt(r)&&!ft(r)?n:r||pt(e)||n}var qt=async function(e){let t=this.getOffsetParent||Kt,n=this.getDimensions,r=await n(e.floating);return{reference:Ut(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jt(e){return $(e).direction===`rtl`}var Yt={convertOffsetParentRelativeRectToViewportRelativeRect:jt,getDocumentElement:X,getClippingRect:Vt,getOffsetParent:Kt,getElementRects:qt,getClientRects:Mt,getDimensions:Ht,getScale:wt,isElement:Z,isRTL:Jt};function Xt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zt(e,t){let n=null,r,i=X(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=_e(d),h=_e(i.clientWidth-(u+f)),g=_e(i.clientHeight-(d+p)),_=_e(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:W(0,U(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!Xt(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function Qt(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=Ct(e),u=i||a?[...l?bt(l):[],...bt(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?Zt(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?Ot(e):null;c&&g();function g(){let t=Ot(e);h&&!Xt(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var $t=Ye,en=Xe,tn=Ue,nn=Qe,rn=Ke,an=He,on=Ze,sn=(e,t,n)=>{let r=new Map,i={platform:Yt,...n},a={...i.platform,_c:r};return Be(e,t,{...i,platform:a})},cn=n(r(),1),ln=typeof document<`u`?b.useLayoutEffect:function(){};function un(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==`function`&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e==`object`){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!un(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let n=i[r];if(!(n===`_owner`&&e.$$typeof)&&!un(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function dn(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fn(e,t){let n=dn(e);return Math.round(t*n)/n}function pn(e){let t=b.useRef(e);return ln(()=>{t.current=e}),t}function mn(e){e===void 0&&(e={});let{placement:t=`bottom`,strategy:n=`absolute`,middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[u,d]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=b.useState(r);un(f,r)||p(r);let[m,h]=b.useState(null),[g,_]=b.useState(null),v=b.useCallback(e=>{e!==C.current&&(C.current=e,h(e))},[]),y=b.useCallback(e=>{e!==w.current&&(w.current=e,_(e))},[]),x=a||m,S=o||g,C=b.useRef(null),w=b.useRef(null),T=b.useRef(u),ee=c!=null,E=pn(c),D=pn(i),O=pn(l),k=b.useCallback(()=>{if(!C.current||!w.current)return;let e={placement:t,strategy:n,middleware:f};D.current&&(e.platform=D.current),sn(C.current,w.current,e).then(e=>{let t={...e,isPositioned:O.current!==!1};A.current&&!un(T.current,t)&&(T.current=t,cn.flushSync(()=>{d(t)}))})},[f,t,n,D,O]);ln(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);let A=b.useRef(!1);ln(()=>(A.current=!0,()=>{A.current=!1}),[]),ln(()=>{if(x&&(C.current=x),S&&(w.current=S),x&&S){if(E.current)return E.current(x,S,k);k()}},[x,S,k,E,ee]);let j=b.useMemo(()=>({reference:C,floating:w,setReference:v,setFloating:y}),[v,y]),M=b.useMemo(()=>({reference:x,floating:S}),[x,S]),N=b.useMemo(()=>{let e={position:n,left:0,top:0};if(!M.floating)return e;let t=fn(M.floating,u.x),r=fn(M.floating,u.y);return s?{...e,transform:`translate(`+t+`px, `+r+`px)`,...dn(M.floating)>=1.5&&{willChange:`transform`}}:{position:n,left:t,top:r}},[n,s,M.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:k,refs:j,elements:M,floatingStyles:N}),[u,k,j,M,N])}var hn=e=>{function t(e){return{}.hasOwnProperty.call(e,`current`)}return{name:`arrow`,options:e,fn(n){let{element:r,padding:i}=typeof e==`function`?e(n):e;return r&&t(r)?r.current==null?{}:an({element:r.current,padding:i}).fn(n):r?an({element:r,padding:i}).fn(n):{}}}},gn=(e,t)=>({...$t(e),options:[e,t]}),_n=(e,t)=>({...en(e),options:[e,t]}),vn=(e,t)=>({...on(e),options:[e,t]}),yn=(e,t)=>({...tn(e),options:[e,t]}),bn=(e,t)=>({...nn(e),options:[e,t]}),xn=(e,t)=>({...rn(e),options:[e,t]}),Sn=(e,t)=>({...hn(e),options:[e,t]}),Cn=`Arrow`,wn=b.forwardRef((e,t)=>{let{children:n,width:r=10,height:i=5,...a}=e;return(0,x.jsx)(F.svg,{...a,ref:t,width:r,height:i,viewBox:`0 0 30 10`,preserveAspectRatio:`none`,children:e.asChild?n:(0,x.jsx)(`polygon`,{points:`0,0 30,0 15,10`})})});wn.displayName=Cn;var Tn=wn;function En(e){let[t,n]=b.useState(void 0);return V(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{if(!Array.isArray(t)||!t.length)return;let r=t[0],i,a;if(`borderBoxSize`in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:`border-box`}),()=>t.unobserve(e)}else n(void 0)},[e]),t}var Dn=`Popper`,[On,kn]=D(Dn),[An,jn]=On(Dn),Mn=e=>{let{__scopePopper:t,children:n}=e,[r,i]=b.useState(null);return(0,x.jsx)(An,{scope:t,anchor:r,onAnchorChange:i,children:n})};Mn.displayName=Dn;var Nn=`PopperAnchor`,Pn=b.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...i}=e,a=jn(Nn,n),o=b.useRef(null),s=p(t,o),c=b.useRef(null);return b.useEffect(()=>{let e=c.current;c.current=r?.current||o.current,e!==c.current&&a.onAnchorChange(c.current)}),r?null:(0,x.jsx)(F.div,{...i,ref:s})});Pn.displayName=Nn;var Fn=`PopperContent`,[In,Ln]=On(Fn),Rn=b.forwardRef((e,t)=>{let{__scopePopper:n,side:r=`bottom`,sideOffset:i=0,align:a=`center`,alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d=`partial`,hideWhenDetached:f=!1,updatePositionStrategy:m=`optimized`,onPlaced:h,...g}=e,_=jn(Fn,n),[v,y]=b.useState(null),S=p(t,e=>y(e)),[C,w]=b.useState(null),T=En(C),ee=T?.width??0,E=T?.height??0,D=r+(a===`center`?``:`-`+a),O=typeof u==`number`?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(l)?l:[l],A=k.length>0,j={padding:O,boundary:k.filter(Hn),altBoundary:A},{refs:M,floatingStyles:N,placement:te,isPositioned:P,middlewareData:I}=mn({strategy:`fixed`,placement:D,whileElementsMounted:(...e)=>Qt(...e,{animationFrame:m===`always`}),elements:{reference:_.anchor},middleware:[gn({mainAxis:i+E,alignmentAxis:o}),c&&_n({mainAxis:!0,crossAxis:!1,limiter:d===`partial`?vn():void 0,...j}),c&&yn({...j}),bn({...j,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:i,height:a}=t.reference,o=e.floating.style;o.setProperty(`--radix-popper-available-width`,`${n}px`),o.setProperty(`--radix-popper-available-height`,`${r}px`),o.setProperty(`--radix-popper-anchor-width`,`${i}px`),o.setProperty(`--radix-popper-anchor-height`,`${a}px`)}}),C&&Sn({element:C,padding:s}),Un({arrowWidth:ee,arrowHeight:E}),f&&xn({strategy:`referenceHidden`,...j})]}),[L,re]=Wn(te),R=ne(h);V(()=>{P&&R?.()},[P,R]);let ie=I.arrow?.x,ae=I.arrow?.y,oe=I.arrow?.centerOffset!==0,[se,ce]=b.useState();return V(()=>{v&&ce(window.getComputedStyle(v).zIndex)},[v]),(0,x.jsx)(`div`,{ref:M.setFloating,"data-radix-popper-content-wrapper":``,style:{...N,transform:P?N.transform:`translate(0, -200%)`,minWidth:`max-content`,zIndex:se,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(` `),...I.hide?.referenceHidden&&{visibility:`hidden`,pointerEvents:`none`}},dir:e.dir,children:(0,x.jsx)(In,{scope:n,placedSide:L,onArrowChange:w,arrowX:ie,arrowY:ae,shouldHideArrow:oe,children:(0,x.jsx)(F.div,{"data-side":L,"data-align":re,...g,ref:S,style:{...g.style,animation:P?void 0:`none`}})})})});Rn.displayName=Fn;var zn=`PopperArrow`,Bn={top:`bottom`,right:`left`,bottom:`top`,left:`right`},Vn=b.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,i=Ln(zn,n),a=Bn[i.placedSide];return(0,x.jsx)(`span`,{ref:i.onArrowChange,style:{position:`absolute`,left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:``,right:`0 0`,bottom:`center 0`,left:`100% 0`}[i.placedSide],transform:{top:`translateY(100%)`,right:`translateY(50%) rotate(90deg) translateX(-50%)`,bottom:`rotate(180deg)`,left:`translateY(50%) rotate(-90deg) translateX(50%)`}[i.placedSide],visibility:i.shouldHideArrow?`hidden`:void 0},children:(0,x.jsx)(Tn,{...r,ref:t,style:{...r.style,display:`block`}})})});Vn.displayName=zn;function Hn(e){return e!==null}var Un=e=>({name:`transformOrigin`,options:e,fn(t){let{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,s=a?0:e.arrowHeight,[c,l]=Wn(n),u={start:`0%`,center:`50%`,end:`100%`}[l],d=(i.arrow?.x??0)+o/2,f=(i.arrow?.y??0)+s/2,p=``,m=``;return c===`bottom`?(p=a?u:`${d}px`,m=`${-s}px`):c===`top`?(p=a?u:`${d}px`,m=`${r.floating.height+s}px`):c===`right`?(p=`${-s}px`,m=a?u:`${f}px`):c===`left`&&(p=`${r.floating.width+s}px`,m=a?u:`${f}px`),{data:{x:p,y:m}}}});function Wn(e){let[t,n=`center`]=e.split(`-`);return[t,n]}var Gn=Mn,Kn=Pn,qn=Rn,Jn=Vn,Yn=n(r(),1),Xn=`Portal`,Zn=b.forwardRef((e,t)=>{let{container:n,...r}=e,[i,a]=b.useState(!1);V(()=>a(!0),[]);let o=n||i&&globalThis?.document?.body;return o?Yn.createPortal((0,x.jsx)(F.div,{...r,ref:t}),o):null});Zn.displayName=Xn;function Qn(e,t){return b.useReducer((e,n)=>t[e][n]??e,e)}var $n=e=>{let{present:t,children:n}=e,r=er(t),i=typeof n==`function`?n({present:r.isPresent}):b.Children.only(n),a=p(r.ref,nr(i));return typeof n==`function`||r.isPresent?b.cloneElement(i,{ref:a}):null};$n.displayName=`Presence`;function er(e){let[t,n]=b.useState(),r=b.useRef(null),i=b.useRef(e),a=b.useRef(`none`),[o,s]=Qn(e?`mounted`:`unmounted`,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}});return b.useEffect(()=>{let e=tr(r.current);a.current=o===`mounted`?e:`none`},[o]),V(()=>{let t=r.current,n=i.current;if(n!==e){let r=a.current,o=tr(t);e?s(`MOUNT`):o===`none`||t?.display===`none`?s(`UNMOUNT`):s(n&&r!==o?`ANIMATION_OUT`:`UNMOUNT`),i.current=e}},[e,s]),V(()=>{if(t){let e,n=t.ownerDocument.defaultView??window,o=a=>{let o=tr(r.current).includes(CSS.escape(a.animationName));if(a.target===t&&o&&(s(`ANIMATION_END`),!i.current)){let r=t.style.animationFillMode;t.style.animationFillMode=`forwards`,e=n.setTimeout(()=>{t.style.animationFillMode===`forwards`&&(t.style.animationFillMode=r)})}},c=e=>{e.target===t&&(a.current=tr(r.current))};return t.addEventListener(`animationstart`,c),t.addEventListener(`animationcancel`,o),t.addEventListener(`animationend`,o),()=>{n.clearTimeout(e),t.removeEventListener(`animationstart`,c),t.removeEventListener(`animationcancel`,o),t.removeEventListener(`animationend`,o)}}else s(`ANIMATION_END`)},[t,s]),{isPresent:[`mounted`,`unmountSuspended`].includes(o),ref:b.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}function tr(e){return e?.animationName||`none`}function nr(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rr=Symbol(`radix.slottable`);function ir(e){let t=({children:e})=>(0,x.jsx)(x.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=rr,t}var ar=b.useInsertionEffect||V;function or({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[i,a,o]=sr({defaultProp:t,onChange:n}),s=e!==void 0,c=s?e:i;{let t=b.useRef(e!==void 0);b.useEffect(()=>{let e=t.current;if(e!==s){let t=e?`controlled`:`uncontrolled`,n=s?`controlled`:`uncontrolled`;console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=s},[s,r])}return[c,b.useCallback(t=>{if(s){let n=cr(t)?t(e):t;n!==e&&o.current?.(n)}else a(t)},[s,e,a,o])]}function sr({defaultProp:e,onChange:t}){let[n,r]=b.useState(e),i=b.useRef(n),a=b.useRef(t);return ar(()=>{a.current=t},[t]),b.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function cr(e){return typeof e==`function`}var lr=Object.freeze({position:`absolute`,border:0,width:1,height:1,padding:0,margin:-1,overflow:`hidden`,clip:`rect(0, 0, 0, 0)`,whiteSpace:`nowrap`,wordWrap:`normal`}),ur=`VisuallyHidden`,dr=b.forwardRef((e,t)=>(0,x.jsx)(F.span,{...e,ref:t,style:{...lr,...e.style}}));dr.displayName=ur;var fr=dr,[pr,mr]=D(`Tooltip`,[kn]),hr=kn(),gr=`TooltipProvider`,_r=700,vr=`tooltip.open`,[yr,br]=pr(gr),xr=e=>{let{__scopeTooltip:t,delayDuration:n=_r,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=b.useRef(!0),s=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,x.jsx)(yr,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:b.useCallback(e=>{s.current=e},[]),disableHoverableContent:i,children:a})};xr.displayName=gr;var Sr=`Tooltip`,[Cr,wr]=pr(Sr),Tr=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=br(Sr,e.__scopeTooltip),l=hr(t),[u,d]=b.useState(null),f=H(),p=b.useRef(0),m=o??c.disableHoverableContent,h=s??c.delayDuration,g=b.useRef(!1),[_,v]=or({prop:r,defaultProp:i??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(vr))):c.onClose(),a?.(e)},caller:Sr}),y=b.useMemo(()=>_?g.current?`delayed-open`:`instant-open`:`closed`,[_]),S=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,v(!0)},[v]),C=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),w=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,v(!0),p.current=0},h)},[h,v]);return b.useEffect(()=>()=>{p.current&&=(window.clearTimeout(p.current),0)},[]),(0,x.jsx)(Gn,{...l,children:(0,x.jsx)(Cr,{scope:t,contentId:f,open:_,stateAttribute:y,trigger:u,onTriggerChange:d,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?w():S()},[c.isOpenDelayedRef,w,S]),onTriggerLeave:b.useCallback(()=>{m?C():(window.clearTimeout(p.current),p.current=0)},[C,m]),onOpen:S,onClose:C,disableHoverableContent:m,children:n})})};Tr.displayName=Sr;var Er=`TooltipTrigger`,Dr=b.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=wr(Er,n),a=br(Er,n),o=hr(n),s=p(t,b.useRef(null),i.onTriggerChange),c=b.useRef(!1),l=b.useRef(!1),u=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener(`pointerup`,u),[u]),(0,x.jsx)(Kn,{asChild:!0,...o,children:(0,x.jsx)(F.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:s,onPointerMove:E(e.onPointerMove,e=>{e.pointerType!==`touch`&&!l.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),l.current=!0)}),onPointerLeave:E(e.onPointerLeave,()=>{i.onTriggerLeave(),l.current=!1}),onPointerDown:E(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener(`pointerup`,u,{once:!0})}),onFocus:E(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:E(e.onBlur,i.onClose),onClick:E(e.onClick,i.onClose)})})});Dr.displayName=Er;var Or=`TooltipPortal`,[kr,Ar]=pr(Or,{forceMount:void 0}),jr=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,a=wr(Or,t);return(0,x.jsx)(kr,{scope:t,forceMount:n,children:(0,x.jsx)($n,{present:n||a.open,children:(0,x.jsx)(Zn,{asChild:!0,container:i,children:r})})})};jr.displayName=Or;var Mr=`TooltipContent`,Nr=b.forwardRef((e,t)=>{let n=Ar(Mr,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i=`top`,...a}=e,o=wr(Mr,e.__scopeTooltip);return(0,x.jsx)($n,{present:r||o.open,children:o.disableHoverableContent?(0,x.jsx)(Rr,{side:i,...a,ref:t}):(0,x.jsx)(Pr,{side:i,...a,ref:t})})}),Pr=b.forwardRef((e,t)=>{let n=wr(Mr,e.__scopeTooltip),r=br(Mr,e.__scopeTooltip),i=b.useRef(null),a=p(t,i),[o,s]=b.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:d}=r,f=b.useCallback(()=>{s(null),d(!1)},[d]),m=b.useCallback((e,t)=>{let n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=Hr(r,Vr(r,n.getBoundingClientRect())),a=Ur(t.getBoundingClientRect());s(Gr([...i,...a])),d(!0)},[d]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(c&&u){let e=e=>m(e,u),t=e=>m(e,c);return c.addEventListener(`pointerleave`,e),u.addEventListener(`pointerleave`,t),()=>{c.removeEventListener(`pointerleave`,e),u.removeEventListener(`pointerleave`,t)}}},[c,u,m,f]),b.useEffect(()=>{if(o){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=c?.contains(t)||u?.contains(t),i=!Wr(n,o);r?f():i&&(f(),l())};return document.addEventListener(`pointermove`,e),()=>document.removeEventListener(`pointermove`,e)}},[c,u,o,l,f]),(0,x.jsx)(Rr,{...e,ref:a})}),[Fr,Ir]=pr(Sr,{isInside:!1}),Lr=ir(`TooltipContent`),Rr=b.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=wr(Mr,n),l=hr(n),{onClose:u}=c;return b.useEffect(()=>(document.addEventListener(vr,u),()=>document.removeEventListener(vr,u)),[u]),b.useEffect(()=>{if(c.trigger){let e=e=>{e.target?.contains(c.trigger)&&u()};return window.addEventListener(`scroll`,e,{capture:!0}),()=>window.removeEventListener(`scroll`,e,{capture:!0})}},[c.trigger,u]),(0,x.jsx)(ce,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,x.jsxs)(qn,{"data-state":c.stateAttribute,...l,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-tooltip-content-available-width":`var(--radix-popper-available-width)`,"--radix-tooltip-content-available-height":`var(--radix-popper-available-height)`,"--radix-tooltip-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-tooltip-trigger-height":`var(--radix-popper-anchor-height)`},children:[(0,x.jsx)(Lr,{children:r}),(0,x.jsx)(Fr,{scope:n,isInside:!0,children:(0,x.jsx)(fr,{id:c.contentId,role:`tooltip`,children:i||r})})]})})});Nr.displayName=Mr;var zr=`TooltipArrow`,Br=b.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=hr(n);return Ir(zr,n).isInside?null:(0,x.jsx)(Jn,{...i,...r,ref:t})});Br.displayName=zr;function Vr(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return`left`;case i:return`right`;case n:return`top`;case r:return`bottom`;default:throw Error(`unreachable`)}}function Hr(e,t,n=5){let r=[];switch(t){case`top`:r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case`bottom`:r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case`left`:r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case`right`:r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Ur(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Wr(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],c=o.x,l=o.y,u=s.x,d=s.y;l>r!=d>r&&n<(u-c)*(r-l)/(d-l)+c&&(i=!i)}return i}function Gr(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),Kr(t)}function Kr(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var qr=xr,Jr=Tr,Yr=Dr,Xr=Nr,Zr=qr,Qr=Jr,$r=Yr,ei=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>(0,x.jsx)(Xr,{ref:r,sideOffset:t,className:c(`z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,e),...n}));ei.displayName=Xr.displayName;function ti(){let n=a(),{t:r}=s(),{voices:i,refreshVoices:o}=ee(),c=(e,t)=>{let n=localStorage.getItem(`dictation_${e}`);if(n===null)return t;let r=Number(n);return isNaN(r)?t:r},[l,f]=(0,b.useState)(``),[p,E]=(0,b.useState)(!1),[D,O]=(0,b.useState)(!1),[k,A]=(0,b.useState)(0),[j,M]=(0,b.useState)([]),[N,te]=(0,b.useState)(()=>c(`rate`,.8)),[P,F]=(0,b.useState)(()=>c(`pitch`,1)),[I,ne]=(0,b.useState)(()=>c(`repeatCount`,2)),[L,re]=(0,b.useState)(()=>c(`interval`,3)),[R,ie]=(0,b.useState)(()=>localStorage.getItem(`dictation_voiceURI`)||``),[ae,oe]=(0,b.useState)(!0),[se,ce]=(0,b.useState)(()=>localStorage.getItem(`dictation_splitBySpace`)===`true`);(0,b.useEffect)(()=>{localStorage.setItem(`dictation_rate`,String(N)),localStorage.setItem(`dictation_pitch`,String(P)),localStorage.setItem(`dictation_repeatCount`,String(I)),localStorage.setItem(`dictation_interval`,String(L)),localStorage.setItem(`dictation_voiceURI`,R),localStorage.setItem(`dictation_splitBySpace`,String(se))},[N,P,I,L,R,se]);let le=(0,b.useRef)(null),z=(0,b.useRef)(null),[ue,de]=(0,b.useState)(0),B=(0,b.useRef)([]),fe=(0,b.useRef)(null);(0,b.useEffect)(()=>(window._speechUtterances||(window._speechUtterances=[]),()=>{z.current&&clearTimeout(z.current),window._speechUtterances=[],window.speechSynthesis.cancel()}),[]);let V=j[k]||``,pe=j.length>0?(k+1)/j.length*100:0,me=e=>{let t=e.toLowerCase();return t.includes(`hk`)||t.includes(`cantonese`)?`  (Cantonese)`:t.includes(`tw`)?`  (Taiwan)`:t.includes(`cn`)||t.includes(`zh`)&&!t.includes(`hk`)&&!t.includes(`tw`)?`  (Mandarin)`:t.includes(`en`)?`/  (English)`:e},H=(0,b.useMemo)(()=>i.filter(e=>{let t=e.lang.toLowerCase();return t.includes(`zh`)||t.includes(`cn`)||t.includes(`hk`)||t.includes(`tw`)||t.includes(`en`)}).sort((e,t)=>{let n=e=>{let t=0,n=e.name.toLowerCase();return n.includes(`google`)&&(t+=20),n.includes(`microsoft`)&&(t+=15),(n.includes(`enhanced`)||n.includes(`premium`)||n.includes(`high quality`))&&(t+=10),e.lang.toLowerCase().includes(`hk`)&&(t+=5),e.default&&(t+=2),t};return n(t)-n(e)}),[i]);(0,b.useEffect)(()=>{if(H.length>0){let e=H.some(e=>e.voiceURI===R);if(!R||!e){let e=H[0].voiceURI;setTimeout(()=>ie(e),0)}}},[H,R]),(0,b.useEffect)(()=>{let e=i.find(e=>e.voiceURI===R);if(H.length>0&&(!R||!e)){let e=H.find(e=>e.lang.toLowerCase().includes(`hk`)||e.lang.toLowerCase().includes(`cantonese`)),t=H.find(e=>e.lang.toLowerCase().includes(`zh`)||e.lang.toLowerCase().includes(`cn`)),n=e||t||H[0];n&&setTimeout(()=>ie(n.voiceURI),0)}},[i,H,R]);let he=()=>{let e=l.replace(/([.!?;,])/g,`$1
`),t=[];return t=se?e.split(/[\n\s]+/).map(e=>e.trim()).filter(e=>e.length>0):e.split(`
`).map(e=>e.trim()).filter(e=>e.length>0),t},U=()=>{if(z.current&&=(clearTimeout(z.current),null),B.current.length===0){E(!1);return}let e=B.current[0];A(e.index),de(e.repeatIndex);let t=new SpeechSynthesisUtterance(e.text);t.rate=N,t.pitch=P;let n=i.find(e=>e.voiceURI===R);n&&(t.voice=n),window._speechUtterances.push(t),fe.current=t;let r=()=>{let e=window._speechUtterances.indexOf(t);e>-1&&window._speechUtterances.splice(e,1),z.current&&=(clearTimeout(z.current),null)},a=()=>{r(),B.current.shift(),fe.current=null,le.current=setTimeout(()=>{B.current.length>0?U():E(!1)},L*1e3)};t.onend=a,t.onerror=e=>{console.error(`Speech error`,e),r(),B.current.shift(),setTimeout(U,500)};let o=Math.max(e.text.length*500+3e3,5e3);z.current=setTimeout(()=>{console.warn(`Speech watchdog triggered - forcing next item`),window.speechSynthesis.cancel(),a()},o),window.speechSynthesis.speak(t)},W=()=>{let e=he();if(e.length===0)return;M(e),E(!0),O(!1),window.speechSynthesis.cancel();let t=new SpeechSynthesisUtterance(``);t.volume=0,window.speechSynthesis.speak(t),i.length===0&&window.speechSynthesis.getVoices();let n=[];e.forEach((e,t)=>{for(let r=0;r<I;r++)n.push({text:e,index:t,repeatIndex:r+1})}),B.current=n,U()},ge=()=>{E(!1),O(!1),window.speechSynthesis.cancel(),le.current&&=(clearTimeout(le.current),null),z.current&&=(clearTimeout(z.current),null),B.current=[],fe.current=null,window._speechUtterances=[]};(0,b.useEffect)(()=>()=>{ge()},[]);let _e=()=>{window.speechSynthesis.pause(),O(!0),le.current&&=(clearTimeout(le.current),null),z.current&&=(clearTimeout(z.current),null)},G=()=>{window.speechSynthesis.resume(),O(!1),!window.speechSynthesis.speaking&&B.current.length>0&&U()};return(0,x.jsxs)(`div`,{className:`min-h-screen bg-gray-50 flex flex-col`,children:[(0,x.jsxs)(`div`,{className:`sticky top-0 bg-white z-10 px-4 py-3 flex items-center gap-3 border-b shadow-sm`,children:[(0,x.jsx)(`button`,{onClick:()=>n(-1),className:`p-1 rounded-full hover:bg-gray-100`,children:(0,x.jsx)(e,{className:`w-6 h-6 text-gray-700`})}),(0,x.jsx)(`h1`,{className:`text-lg font-bold text-gray-900`,children:r(`dictation.title`,``)})]}),(0,x.jsxs)(`div`,{className:`flex-1 p-4 max-w-2xl mx-auto w-full space-y-6`,children:[!p&&(0,x.jsx)(d,{children:(0,x.jsxs)(u,{className:`space-y-4 pt-6`,children:[(0,x.jsx)(C,{placeholder:r(`dictation.placeholder`,`...`),className:`min-h-[200px] text-lg`,value:l,onChange:e=>f(e.target.value)}),(0,x.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,x.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,x.jsx)(S,{id:`split-by-space`,checked:se,onCheckedChange:ce}),(0,x.jsx)(T,{htmlFor:`split-by-space`,children:r(`dictation.split_by_space`,``)})]}),(0,x.jsxs)(`p`,{className:`text-xs text-gray-500 text-right`,children:[l.length,`/300`]})]})]})}),p&&(0,x.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-10 space-y-8`,children:[(0,x.jsxs)(`div`,{className:`text-center space-y-2`,children:[(0,x.jsxs)(`p`,{className:`text-sm text-gray-500 uppercase tracking-widest`,children:[r(`dictation.progress`,``),` `,k+1,` / `,j.length]}),(0,x.jsx)(`div`,{className:`w-64 h-2 bg-gray-200 rounded-full mx-auto overflow-hidden`,children:(0,x.jsx)(`div`,{className:`h-full bg-indigo-600 transition-all duration-300`,style:{width:`${pe}%`}})})]}),(0,x.jsx)(d,{className:`w-full max-w-md border-2 border-indigo-100 shadow-lg`,children:(0,x.jsxs)(u,{className:`flex items-center justify-center min-h-[200px] p-8 relative`,children:[ae?(0,x.jsxs)(`div`,{className:`text-center`,children:[(0,x.jsx)(y,{className:`w-16 h-16 text-indigo-200 mx-auto mb-4 animate-pulse`}),(0,x.jsx)(`p`,{className:`text-gray-400 font-medium`,children:r(`dictation.listening`,`...`)})]}):(0,x.jsx)(`h2`,{className:`text-3xl font-bold text-center text-gray-900 break-words`,children:V}),(0,x.jsxs)(`div`,{className:`absolute bottom-4 right-4 text-xs text-gray-400 font-mono`,children:[ue,`/`,I]})]})}),(0,x.jsxs)(`div`,{className:`flex items-center gap-6`,children:[(0,x.jsx)(m,{variant:`outline`,size:`icon`,className:`h-12 w-12 rounded-full`,onClick:()=>{ge()},children:(0,x.jsx)(v,{className:`h-5 w-5 fill-gray-600 text-gray-600`})}),(0,x.jsx)(m,{variant:`default`,size:`icon`,className:`h-16 w-16 rounded-full shadow-xl bg-indigo-600 hover:bg-indigo-700`,onClick:()=>{D?G():p&&_e()},children:D?(0,x.jsx)(_,{className:`h-8 w-8 ml-1`}):(0,x.jsx)(g,{className:`h-8 w-8`})}),(0,x.jsx)(m,{variant:`outline`,size:`icon`,className:`h-12 w-12 rounded-full`,onClick:()=>oe(!ae),children:ae?``:``})]})]}),(0,x.jsx)(d,{children:(0,x.jsxs)(u,{className:`space-y-6 pt-6`,children:[(0,x.jsxs)(`div`,{className:`space-y-2`,children:[(0,x.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,x.jsx)(T,{children:r(`dictation.voice`,``)}),(0,x.jsx)(Zr,{children:(0,x.jsxs)(Qr,{children:[(0,x.jsx)($r,{asChild:!0,children:(0,x.jsxs)(`div`,{className:`flex items-center text-xs text-blue-500 cursor-help gap-1`,children:[(0,x.jsx)(h,{className:`w-3 h-3`}),(0,x.jsx)(`span`,{children:`?`})]})}),(0,x.jsxs)(ei,{className:`max-w-[300px]`,children:[(0,x.jsx)(`p`,{children:`Web`}),(0,x.jsxs)(`ul`,{className:`list-disc pl-4 mt-2 space-y-1`,children:[(0,x.jsxs)(`li`,{children:[(0,x.jsx)(`strong`,{children:`Chrome`}),`:  "Google" `]}),(0,x.jsxs)(`li`,{children:[(0,x.jsx)(`strong`,{children:`Mac`}),`:  ---  "Enhanced/" `]}),(0,x.jsxs)(`li`,{children:[(0,x.jsx)(`strong`,{children:`Windows`}),`:  -- `]})]})]})]})})]}),(0,x.jsxs)(`div`,{className:`flex gap-2`,children:[(0,x.jsxs)(`select`,{className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50`,value:R,onChange:e=>ie(e.target.value),onClick:o,children:[(0,x.jsx)(`option`,{value:``,disabled:!0,children:H.length===0?r(`dictation.loading_voices`,`...`):r(`dictation.select_voice`,``)}),H.map(e=>(0,x.jsxs)(`option`,{value:e.voiceURI,children:[me(e.lang),` - `,e.name]},e.voiceURI))]}),(0,x.jsx)(m,{variant:`outline`,size:`icon`,className:`shrink-0`,onClick:()=>{o(),window.speechSynthesis.cancel()},title:`Reload Voices`,children:(0,x.jsx)(t,{className:`h-4 w-4`})})]})]}),(0,x.jsxs)(`div`,{className:`grid grid-cols-2 gap-6`,children:[(0,x.jsxs)(`div`,{className:`space-y-4`,children:[(0,x.jsx)(`div`,{className:`flex justify-between`,children:(0,x.jsxs)(T,{children:[r(`dictation.rate`,``),`: `,N,`x`]})}),(0,x.jsx)(w,{value:[N],min:.5,max:2,step:.1,onValueChange:([e])=>te(e)})]}),(0,x.jsxs)(`div`,{className:`space-y-4`,children:[(0,x.jsx)(`div`,{className:`flex justify-between`,children:(0,x.jsxs)(T,{children:[r(`dictation.pitch`,``),`: `,P]})}),(0,x.jsx)(w,{value:[P],min:.5,max:2,step:.1,onValueChange:([e])=>F(e)})]}),(0,x.jsxs)(`div`,{className:`space-y-4`,children:[(0,x.jsx)(`div`,{className:`flex justify-between`,children:(0,x.jsxs)(T,{children:[r(`dictation.interval`,``),`: `,L,`s`]})}),(0,x.jsx)(w,{value:[L],min:1,max:10,step:1,onValueChange:([e])=>re(e)})]}),(0,x.jsxs)(`div`,{className:`space-y-4`,children:[(0,x.jsx)(`div`,{className:`flex justify-between`,children:(0,x.jsxs)(T,{children:[r(`dictation.repeat`,``),`: `,I]})}),(0,x.jsx)(w,{value:[I],min:1,max:5,step:1,onValueChange:([e])=>ne(e)})]})]})]})}),!p&&(0,x.jsxs)(m,{className:`w-full h-12 text-lg font-bold shadow-md`,onClick:W,disabled:!l.trim(),children:[(0,x.jsx)(_,{className:`w-5 h-5 mr-2`}),r(`dictation.start`,``)]})]})]})}export{ti as default};