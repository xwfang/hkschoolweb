import{t as e}from"./arrow-left-W1Zw3FJg.js";import{t}from"./refresh-cw-CfVxEccb.js";import{I as n,N as r,P as i,j as a,l as o,n as s,r as c,s as l}from"./index-CtGP5V70.js";import{n as u,t as d}from"./card-CTcLBD8i.js";import{n as f,r as p,t as m}from"./button-D9YJsIxB.js";var h=l(`info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),g=l(`pause`,[[`rect`,{x:`14`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`kaeet6`}],[`rect`,{x:`5`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`1wsw3u`}]]),_=l(`play`,[[`path`,{d:`M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z`,key:`10ikf1`}]]),v=l(`skip-back`,[[`path`,{d:`M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z`,key:`15892j`}],[`path`,{d:`M3 20V4`,key:`1ptbpl`}]]),y=l(`skip-forward`,[[`path`,{d:`M21 4v16`,key:`7j8fe9`}],[`path`,{d:`M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z`,key:`zs4d6`}]]),b=l(`square`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}]]),x=l(`volume-2`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`path`,{d:`M16 9a5 5 0 0 1 0 6`,key:`1q6k2b`}],[`path`,{d:`M19.364 18.364a9 9 0 0 0 0-12.728`,key:`ijwkga`}]]),S=n(i(),1),C=o(),w=S.forwardRef(({className:e,checked:t,onCheckedChange:n,...r},i)=>(0,C.jsx)(`button`,{type:`button`,role:`switch`,"aria-checked":t,onClick:()=>n?.(!t),className:c(`peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50`,t?`bg-primary`:`bg-input`,e),ref:i,...r,children:(0,C.jsx)(`span`,{className:c(`pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform`,t?`translate-x-5`:`translate-x-0`)})}));w.displayName=`Switch`;var T=S.forwardRef(({className:e,...t},n)=>(0,C.jsx)(`textarea`,{className:c(`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50`,e),ref:n,...t}));T.displayName=`Textarea`;var E=S.forwardRef(({className:e,value:t,min:n,max:r,step:i,onValueChange:a,...o},s)=>(0,C.jsx)(`input`,{type:`range`,min:n,max:r,step:i,value:t[0],onChange:e=>a([parseFloat(e.target.value)]),className:c(`w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary`,e),ref:s,...o}));E.displayName=`Slider`;var D=S.forwardRef(({className:e,...t},n)=>(0,C.jsx)(`label`,{ref:n,className:c(`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70`,e),...t}));D.displayName=`Label`;function ee(){let[e,t]=(0,S.useState)([]),[n,r]=(0,S.useState)(!1),[i,a]=(0,S.useState)(!1),o=(0,S.useRef)(null),s=(0,S.useRef)(null);(0,S.useEffect)(()=>{if(typeof window<`u`&&window.speechSynthesis){o.current=window.speechSynthesis;let e=()=>{t(window.speechSynthesis.getVoices())};e(),window.speechSynthesis.onvoiceschanged=e;let n=setInterval(()=>{let e=window.speechSynthesis.getVoices();e.length>0&&t(e)},500),r=setTimeout(()=>{clearInterval(n)},5e3);return()=>{window.speechSynthesis.onvoiceschanged=null,clearInterval(n),clearTimeout(r),o.current&&o.current.cancel()}}},[]);let c=(0,S.useCallback)((t,n={})=>{if(!o.current)return;o.current.cancel();let i=new SpeechSynthesisUtterance(t);if(n.rate&&(i.rate=n.rate),n.pitch&&(i.pitch=n.pitch),n.volume&&(i.volume=n.volume),n.voice)i.voice=n.voice;else if(n.lang){let t=e.filter(e=>e.lang.startsWith(n.lang));t.length>0&&(i.voice=t.find(e=>e.name.includes(`Google`))||t[0])}i.onstart=()=>{r(!0),a(!1)},i.onend=()=>{r(!1),a(!1)},i.onerror=e=>{console.error(`Speech synthesis error`,e),r(!1),a(!1)},s.current=i,o.current.speak(i)},[e]),l=(0,S.useCallback)(()=>{o.current&&(o.current.cancel(),r(!1),a(!1))},[]),u=(0,S.useCallback)(()=>{o.current&&(o.current.pause(),a(!0))},[]),d=(0,S.useCallback)(()=>{o.current&&(o.current.resume(),a(!1))},[]),f=(0,S.useCallback)(()=>{if(typeof window<`u`&&window.speechSynthesis){let e=window.speechSynthesis.getVoices();e.length>0?t(e):window.speechSynthesis.getVoices()}},[]);return{voices:(0,S.useMemo)(()=>{let t=`Agnes.Albert.Bad News.Bahh.Bells.Boing.Bruce.Bubbles.Cellos.Deranged.Fred.Good News.Hysterical.Junior.Kathy.Pipe Organ.Princess.Ralph.Trinoids.Vicki.Victoria.Whisper.Zarvox.Organ.Jester.Superstar.Wobble.Grandma.Grandpa.Eddy.Flo.Reed.Rocko.Sandy.Shelley`.split(`.`);return e.filter(e=>{let n=e.lang.toLowerCase(),r=e.name,i=n.includes(`zh`)||n.includes(`cn`)||n.includes(`hk`)||n.includes(`tw`)||n.includes(`en`),a=t.some(e=>r.includes(e));return i&&!a}).sort((e,t)=>e.name.localeCompare(t.name))},[e]),speaking:n,paused:i,speak:c,cancel:l,pause:u,resume:d,refreshVoices:f}}typeof window<`u`&&window.document&&window.document.createElement;function O(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function k(e,t=[]){let n=[];function r(t,r){let i=S.createContext(r),a=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,s=n?.[e]?.[a]||i,c=S.useMemo(()=>o,Object.values(o));return(0,C.jsx)(s.Provider,{value:c,children:r})};o.displayName=t+`Provider`;function s(n,o){let s=o?.[e]?.[a]||i,c=S.useContext(s);if(c)return c;if(r!==void 0)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}return[o,s]}let i=()=>{let t=n.map(e=>S.createContext(e));return function(n){let r=n?.[e]||t;return S.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return i.scopeName=e,[r,A(i,...t)]}function A(...e){let t=e[0];if(e.length===1)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e)[`__scope${r}`];return{...t,...i}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var j=n(r(),1);function M(e){let t=N(e),n=S.forwardRef((e,n)=>{let{children:r,...i}=e,a=S.Children.toArray(r),o=a.find(P);if(o){let e=o.props.children,r=a.map(t=>t===o?S.Children.count(e)>1?S.Children.only(null):S.isValidElement(e)?e.props.children:null:t);return(0,C.jsx)(t,{...i,ref:n,children:S.isValidElement(e)?S.cloneElement(e,void 0,r):null})}return(0,C.jsx)(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function N(e){let t=S.forwardRef((e,t)=>{let{children:n,...r}=e;if(S.isValidElement(n)){let e=re(n),i=ne(r,n.props);return n.type!==S.Fragment&&(i.ref=t?f(t,e):e),S.cloneElement(n,i)}return S.Children.count(n)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var te=Symbol(`radix.slottable`);function P(e){return S.isValidElement(e)&&typeof e.type==`function`&&`__radixId`in e.type&&e.type.__radixId===te}function ne(e,t){let n={...t};for(let r in t){let i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(n[r]=i):r===`style`?n[r]={...i,...a}:r===`className`&&(n[r]=[i,a].filter(Boolean).join(` `))}return{...e,...n}}function re(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var F=[`a`,`button`,`div`,`form`,`h2`,`h3`,`img`,`input`,`label`,`li`,`nav`,`ol`,`p`,`select`,`span`,`svg`,`ul`].reduce((e,t)=>{let n=M(`Primitive.${t}`),r=S.forwardRef((e,r)=>{let{asChild:i,...a}=e,o=i?n:t;return typeof window<`u`&&(window[Symbol.for(`radix-ui`)]=!0),(0,C.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ie(e,t){e&&j.flushSync(()=>e.dispatchEvent(t))}function ae(e){let t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...e)=>t.current?.(...e),[])}function oe(e,t=globalThis?.document){let n=ae(e);S.useEffect(()=>{let e=e=>{e.key===`Escape`&&n(e)};return t.addEventListener(`keydown`,e,{capture:!0}),()=>t.removeEventListener(`keydown`,e,{capture:!0})},[n,t])}var se=`DismissableLayer`,I=`dismissableLayer.update`,ce=`dismissableLayer.pointerDownOutside`,le=`dismissableLayer.focusOutside`,ue,de=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fe=S.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,l=S.useContext(de),[u,d]=S.useState(null),f=u?.ownerDocument??globalThis?.document,[,m]=S.useState({}),h=p(t,e=>d(e)),g=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(_),y=u?g.indexOf(u):-1,b=l.layersWithOutsidePointerEventsDisabled.size>0,x=y>=v,w=he(e=>{let t=e.target,n=[...l.branches].some(e=>e.contains(t));!x||n||(i?.(e),o?.(e),e.defaultPrevented||s?.())},f),T=ge(e=>{let t=e.target;[...l.branches].some(e=>e.contains(t))||(a?.(e),o?.(e),e.defaultPrevented||s?.())},f);return oe(e=>{y===l.layers.size-1&&(r?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},f),S.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(ue=f.body.style.pointerEvents,f.body.style.pointerEvents=`none`),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),L(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ue)}},[u,f,n,l]),S.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),L())},[u,l]),S.useEffect(()=>{let e=()=>m({});return document.addEventListener(I,e),()=>document.removeEventListener(I,e)},[]),(0,C.jsx)(F.div,{...c,ref:h,style:{pointerEvents:b?x?`auto`:`none`:void 0,...e.style},onFocusCapture:O(e.onFocusCapture,T.onFocusCapture),onBlurCapture:O(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:O(e.onPointerDownCapture,w.onPointerDownCapture)})});fe.displayName=se;var pe=`DismissableLayerBranch`,me=S.forwardRef((e,t)=>{let n=S.useContext(de),r=S.useRef(null),i=p(t,r);return S.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,C.jsx)(F.div,{...e,ref:i})});me.displayName=pe;function he(e,t=globalThis?.document){let n=ae(e),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){R(ce,n,a,{discrete:!0})},a={originalEvent:e};e.pointerType===`touch`?(t.removeEventListener(`click`,i.current),i.current=r,t.addEventListener(`click`,i.current,{once:!0})):r()}else t.removeEventListener(`click`,i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener(`pointerdown`,e)},0);return()=>{window.clearTimeout(a),t.removeEventListener(`pointerdown`,e),t.removeEventListener(`click`,i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ge(e,t=globalThis?.document){let n=ae(e),r=S.useRef(!1);return S.useEffect(()=>{let e=e=>{e.target&&!r.current&&R(le,n,{originalEvent:e},{discrete:!1})};return t.addEventListener(`focusin`,e),()=>t.removeEventListener(`focusin`,e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L(){let e=new CustomEvent(I);document.dispatchEvent(e)}function R(e,t,n,{discrete:r}){let i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ie(i,a):i.dispatchEvent(a)}var z=globalThis?.document?S.useLayoutEffect:()=>{},_e=S.useId||(()=>void 0),B=0;function V(e){let[t,n]=S.useState(_e());return z(()=>{e||n(e=>e??String(B++))},[e]),e||(t?`radix-${t}`:``)}var ve=[`top`,`right`,`bottom`,`left`],H=Math.min,U=Math.max,ye=Math.round,W=Math.floor,G=e=>({x:e,y:e}),be={left:`right`,right:`left`,bottom:`top`,top:`bottom`},xe={start:`end`,end:`start`};function Se(e,t,n){return U(e,H(t,n))}function K(e,t){return typeof e==`function`?e(t):e}function q(e){return e.split(`-`)[0]}function Ce(e){return e.split(`-`)[1]}function we(e){return e===`x`?`y`:`x`}function Te(e){return e===`y`?`height`:`width`}var Ee=new Set([`top`,`bottom`]);function J(e){return Ee.has(q(e))?`y`:`x`}function De(e){return we(J(e))}function Oe(e,t,n){n===void 0&&(n=!1);let r=Ce(e),i=De(e),a=Te(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=Le(o)),[o,Le(o)]}function ke(e){let t=Le(e);return[Ae(e),t,Ae(t)]}function Ae(e){return e.replace(/start|end/g,e=>xe[e])}var je=[`left`,`right`],Me=[`right`,`left`],Ne=[`top`,`bottom`],Pe=[`bottom`,`top`];function Fe(e,t,n){switch(e){case`top`:case`bottom`:return n?t?Me:je:t?je:Me;case`left`:case`right`:return t?Ne:Pe;default:return[]}}function Ie(e,t,n,r){let i=Ce(e),a=Fe(q(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(Ae)))),a}function Le(e){return e.replace(/left|right|bottom|top/g,e=>be[e])}function Re(e){return{top:0,right:0,bottom:0,left:0,...e}}function ze(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:Re(e)}function Be(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Ve(e,t,n){let{reference:r,floating:i}=e,a=J(t),o=De(t),s=Te(o),c=q(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Ce(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var He=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Ve(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=Ve(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Ue(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=K(t,e),p=ze(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=Be(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=Be(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var We=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=K(e,t)||{};if(l==null)return{};let d=ze(u),f={x:n,y:r},p=De(i),m=Te(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,E=H(d[_],T),D=H(d[v],T),ee=E,O=C-h[m]-D,k=C/2-h[m]/2+w,A=Se(ee,k,O),j=!c.arrow&&Ce(i)!=null&&k!==A&&a.reference[m]/2-(k<ee?E:D)-h[m]/2<0,M=j?k<ee?k-ee:k-O:0;return{[p]:f[p]+M,data:{[p]:A,centerOffset:k-A-M,...j&&{alignmentOffset:M}},reset:j}}}),Ge=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=K(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=q(r),_=J(o),v=q(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[Le(o)]:ke(o)),x=p!==`none`;!d&&x&&b.push(...Ie(o,m,p,y));let S=[o,...b],C=await Ue(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=Oe(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==J(t))||T.every(e=>J(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=J(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}};function Ke(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qe(e){return ve.some(t=>e[t]>=0)}var Je=function(e){return e===void 0&&(e={}),{name:`hide`,options:e,async fn(t){let{rects:n}=t,{strategy:r=`referenceHidden`,...i}=K(e,t);switch(r){case`referenceHidden`:{let e=Ke(await Ue(t,{...i,elementContext:`reference`}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:qe(e)}}}case`escaped`:{let e=Ke(await Ue(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:qe(e)}}}default:return{}}}}},Ye=new Set([`left`,`top`]);async function Xe(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=q(n),s=Ce(n),c=J(n)===`y`,l=Ye.has(o)?-1:1,u=a&&c?-1:1,d=K(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var Ze=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await Xe(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},Qe=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=K(e,t),l={x:n,y:r},u=await Ue(t,c),d=J(q(i)),f=we(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=Se(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=Se(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}},$e=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=K(e,t),u={x:n,y:r},d=J(i),f=we(d),p=u[f],m=u[d],h=K(s,t),g=typeof h==`number`?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let e=f===`y`?`height`:`width`,t=a.reference[f]-a.floating[e]+g.mainAxis,n=a.reference[f]+a.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){let e=f===`y`?`width`:`height`,t=Ye.has(q(i)),n=a.reference[d]-a.floating[e]+(t&&o.offset?.[d]||0)+(t?0:g.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:o.offset?.[d]||0)-(t?g.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[d]:m}}}},et=function(e){return e===void 0&&(e={}),{name:`size`,options:e,async fn(t){var n,r;let{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...l}=K(e,t),u=await Ue(t,l),d=q(i),f=Ce(i),p=J(i)===`y`,{width:m,height:h}=a.floating,g,_;d===`top`||d===`bottom`?(g=d,_=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?`start`:`end`)?`left`:`right`):(_=d,g=f===`end`?`top`:`bottom`);let v=h-u.top-u.bottom,y=m-u.left-u.right,b=H(h-u[g],v),x=H(m-u[_],y),S=!t.middlewareData.shift,C=b,w=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(w=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!f){let e=U(u.left,0),t=U(u.right,0),n=U(u.top,0),r=U(u.bottom,0);p?w=m-2*(e!==0||t!==0?e+t:U(u.left,u.right)):C=h-2*(n!==0||r!==0?n+r:U(u.top,u.bottom))}await c({...t,availableWidth:w,availableHeight:C});let T=await o.getDimensions(s.floating);return m!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function tt(){return typeof window<`u`}function nt(e){return rt(e)?(e.nodeName||``).toLowerCase():`#document`}function Y(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function X(e){return((rt(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function rt(e){return tt()?e instanceof Node||e instanceof Y(e).Node:!1}function Z(e){return tt()?e instanceof Element||e instanceof Y(e).Element:!1}function Q(e){return tt()?e instanceof HTMLElement||e instanceof Y(e).HTMLElement:!1}function it(e){return!tt()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof Y(e).ShadowRoot}var at=new Set([`inline`,`contents`]);function ot(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=$(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!at.has(i)}var st=new Set([`table`,`td`,`th`]);function ct(e){return st.has(nt(e))}var lt=[`:popover-open`,`:modal`];function ut(e){return lt.some(t=>{try{return e.matches(t)}catch{return!1}})}var dt=[`transform`,`translate`,`scale`,`rotate`,`perspective`],ft=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],pt=[`paint`,`layout`,`strict`,`content`];function mt(e){let t=gt(),n=Z(e)?$(e):e;return dt.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||ft.some(e=>(n.willChange||``).includes(e))||pt.some(e=>(n.contain||``).includes(e))}function ht(e){let t=bt(e);for(;Q(t)&&!vt(t);){if(mt(t))return t;if(ut(t))return null;t=bt(t)}return null}function gt(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var _t=new Set([`html`,`body`,`#document`]);function vt(e){return _t.has(nt(e))}function $(e){return Y(e).getComputedStyle(e)}function yt(e){return Z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bt(e){if(nt(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||it(e)&&e.host||X(e);return it(t)?t.host:t}function xt(e){let t=bt(e);return vt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Q(t)&&ot(t)?t:xt(t)}function St(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=xt(e),i=r===e.ownerDocument?.body,a=Y(r);if(i){let e=Ct(a);return t.concat(a,a.visualViewport||[],ot(r)?r:[],e&&n?St(e):[])}return t.concat(r,St(r,[],n))}function Ct(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wt(e){let t=$(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Q(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=ye(n)!==a||ye(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Tt(e){return Z(e)?e:e.contextElement}function Et(e){let t=Tt(e);if(!Q(t))return G(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=wt(t),o=(a?ye(n.width):n.width)/r,s=(a?ye(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var Dt=G(0);function Ot(e){let t=Y(e);return!gt()||!t.visualViewport?Dt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kt(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Y(e)?!1:t}function At(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=Tt(e),o=G(1);t&&(r?Z(r)&&(o=Et(r)):o=Et(e));let s=kt(a,n,r)?Ot(a):G(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=Y(a),t=r&&Z(r)?Y(r):r,n=e,i=Ct(n);for(;i&&r&&t!==n;){let e=Et(i),t=i.getBoundingClientRect(),r=$(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=Y(i),i=Ct(n)}}return Be({width:u,height:d,x:c,y:l})}function jt(e,t){let n=yt(e).scrollLeft;return t?t.left+n:At(X(e)).left+n}function Mt(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-jt(e,n),y:n.top+t.scrollTop}}function Nt(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=X(r),s=t?ut(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=G(1),u=G(0),d=Q(r);if((d||!d&&!a)&&((nt(r)!==`body`||ot(o))&&(c=yt(r)),Q(r))){let e=At(r);l=Et(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?Mt(o,c):G(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function Pt(e){return Array.from(e.getClientRects())}function Ft(e){let t=X(e),n=yt(e),r=e.ownerDocument.body,i=U(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=U(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+jt(e),s=-n.scrollTop;return $(r).direction===`rtl`&&(o+=U(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var It=25;function Lt(e,t){let n=Y(e),r=X(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=gt();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=jt(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=It&&(a-=o)}else l<=It&&(a+=l);return{width:a,height:o,x:s,y:c}}var Rt=new Set([`absolute`,`fixed`]);function zt(e,t){let n=At(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Q(e)?Et(e):G(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function Bt(e,t,n){let r;if(t===`viewport`)r=Lt(e,n);else if(t===`document`)r=Ft(X(e));else if(Z(t))r=zt(t,n);else{let n=Ot(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Be(r)}function Vt(e,t){let n=bt(e);return n===t||!Z(n)||vt(n)?!1:$(n).position===`fixed`||Vt(n,t)}function Ht(e,t){let n=t.get(e);if(n)return n;let r=St(e,[],!1).filter(e=>Z(e)&&nt(e)!==`body`),i=null,a=$(e).position===`fixed`,o=a?bt(e):e;for(;Z(o)&&!vt(o);){let t=$(o),n=mt(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&Rt.has(i.position)||ot(o)&&!n&&Vt(e,o))?r=r.filter(e=>e!==o):i=t,o=bt(o)}return t.set(e,r),r}function Ut(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?ut(t)?[]:Ht(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=Bt(t,n,i);return e.top=U(r.top,e.top),e.right=H(r.right,e.right),e.bottom=H(r.bottom,e.bottom),e.left=U(r.left,e.left),e},Bt(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Wt(e){let{width:t,height:n}=wt(e);return{width:t,height:n}}function Gt(e,t,n){let r=Q(t),i=X(t),a=n===`fixed`,o=At(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=G(0);function l(){c.x=jt(i)}if(r||!r&&!a)if((nt(t)!==`body`||ot(i))&&(s=yt(t)),r){let e=At(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?Mt(i,s):G(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function Kt(e){return $(e).position===`static`}function qt(e,t){if(!Q(e)||$(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return X(e)===n&&(n=n.ownerDocument.body),n}function Jt(e,t){let n=Y(e);if(ut(e))return n;if(!Q(e)){let t=bt(e);for(;t&&!vt(t);){if(Z(t)&&!Kt(t))return t;t=bt(t)}return n}let r=qt(e,t);for(;r&&ct(r)&&Kt(r);)r=qt(r,t);return r&&vt(r)&&Kt(r)&&!mt(r)?n:r||ht(e)||n}var Yt=async function(e){let t=this.getOffsetParent||Jt,n=this.getDimensions,r=await n(e.floating);return{reference:Gt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xt(e){return $(e).direction===`rtl`}var Zt={convertOffsetParentRelativeRectToViewportRelativeRect:Nt,getDocumentElement:X,getClippingRect:Ut,getOffsetParent:Jt,getElementRects:Yt,getClientRects:Pt,getDimensions:Wt,getScale:Et,isElement:Z,isRTL:Xt};function Qt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $t(e,t){let n=null,r,i=X(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=W(d),h=W(i.clientWidth-(u+f)),g=W(i.clientHeight-(d+p)),_=W(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:U(0,H(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!Qt(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function en(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=Tt(e),u=i||a?[...l?St(l):[],...St(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?$t(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?At(e):null;c&&g();function g(){let t=At(e);h&&!Qt(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var tn=Ze,nn=Qe,rn=Ge,an=et,on=Je,sn=We,cn=$e,ln=(e,t,n)=>{let r=new Map,i={platform:Zt,...n},a={...i.platform,_c:r};return He(e,t,{...i,platform:a})},un=n(r(),1),dn=typeof document<`u`?S.useLayoutEffect:function(){};function fn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==`function`&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e==`object`){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fn(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let n=i[r];if(!(n===`_owner`&&e.$$typeof)&&!fn(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function pn(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mn(e,t){let n=pn(e);return Math.round(t*n)/n}function hn(e){let t=S.useRef(e);return dn(()=>{t.current=e}),t}function gn(e){e===void 0&&(e={});let{placement:t=`bottom`,strategy:n=`absolute`,middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[u,d]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=S.useState(r);fn(f,r)||p(r);let[m,h]=S.useState(null),[g,_]=S.useState(null),v=S.useCallback(e=>{e!==C.current&&(C.current=e,h(e))},[]),y=S.useCallback(e=>{e!==w.current&&(w.current=e,_(e))},[]),b=a||m,x=o||g,C=S.useRef(null),w=S.useRef(null),T=S.useRef(u),E=c!=null,D=hn(c),ee=hn(i),O=hn(l),k=S.useCallback(()=>{if(!C.current||!w.current)return;let e={placement:t,strategy:n,middleware:f};ee.current&&(e.platform=ee.current),ln(C.current,w.current,e).then(e=>{let t={...e,isPositioned:O.current!==!1};A.current&&!fn(T.current,t)&&(T.current=t,un.flushSync(()=>{d(t)}))})},[f,t,n,ee,O]);dn(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);let A=S.useRef(!1);dn(()=>(A.current=!0,()=>{A.current=!1}),[]),dn(()=>{if(b&&(C.current=b),x&&(w.current=x),b&&x){if(D.current)return D.current(b,x,k);k()}},[b,x,k,D,E]);let j=S.useMemo(()=>({reference:C,floating:w,setReference:v,setFloating:y}),[v,y]),M=S.useMemo(()=>({reference:b,floating:x}),[b,x]),N=S.useMemo(()=>{let e={position:n,left:0,top:0};if(!M.floating)return e;let t=mn(M.floating,u.x),r=mn(M.floating,u.y);return s?{...e,transform:`translate(`+t+`px, `+r+`px)`,...pn(M.floating)>=1.5&&{willChange:`transform`}}:{position:n,left:t,top:r}},[n,s,M.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:k,refs:j,elements:M,floatingStyles:N}),[u,k,j,M,N])}var _n=e=>{function t(e){return{}.hasOwnProperty.call(e,`current`)}return{name:`arrow`,options:e,fn(n){let{element:r,padding:i}=typeof e==`function`?e(n):e;return r&&t(r)?r.current==null?{}:sn({element:r.current,padding:i}).fn(n):r?sn({element:r,padding:i}).fn(n):{}}}},vn=(e,t)=>({...tn(e),options:[e,t]}),yn=(e,t)=>({...nn(e),options:[e,t]}),bn=(e,t)=>({...cn(e),options:[e,t]}),xn=(e,t)=>({...rn(e),options:[e,t]}),Sn=(e,t)=>({...an(e),options:[e,t]}),Cn=(e,t)=>({...on(e),options:[e,t]}),wn=(e,t)=>({..._n(e),options:[e,t]}),Tn=`Arrow`,En=S.forwardRef((e,t)=>{let{children:n,width:r=10,height:i=5,...a}=e;return(0,C.jsx)(F.svg,{...a,ref:t,width:r,height:i,viewBox:`0 0 30 10`,preserveAspectRatio:`none`,children:e.asChild?n:(0,C.jsx)(`polygon`,{points:`0,0 30,0 15,10`})})});En.displayName=Tn;var Dn=En;function On(e){let[t,n]=S.useState(void 0);return z(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{if(!Array.isArray(t)||!t.length)return;let r=t[0],i,a;if(`borderBoxSize`in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:`border-box`}),()=>t.unobserve(e)}else n(void 0)},[e]),t}var kn=`Popper`,[An,jn]=k(kn),[Mn,Nn]=An(kn),Pn=e=>{let{__scopePopper:t,children:n}=e,[r,i]=S.useState(null);return(0,C.jsx)(Mn,{scope:t,anchor:r,onAnchorChange:i,children:n})};Pn.displayName=kn;var Fn=`PopperAnchor`,In=S.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...i}=e,a=Nn(Fn,n),o=S.useRef(null),s=p(t,o),c=S.useRef(null);return S.useEffect(()=>{let e=c.current;c.current=r?.current||o.current,e!==c.current&&a.onAnchorChange(c.current)}),r?null:(0,C.jsx)(F.div,{...i,ref:s})});In.displayName=Fn;var Ln=`PopperContent`,[Rn,zn]=An(Ln),Bn=S.forwardRef((e,t)=>{let{__scopePopper:n,side:r=`bottom`,sideOffset:i=0,align:a=`center`,alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d=`partial`,hideWhenDetached:f=!1,updatePositionStrategy:m=`optimized`,onPlaced:h,...g}=e,_=Nn(Ln,n),[v,y]=S.useState(null),b=p(t,e=>y(e)),[x,w]=S.useState(null),T=On(x),E=T?.width??0,D=T?.height??0,ee=r+(a===`center`?``:`-`+a),O=typeof u==`number`?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(l)?l:[l],A=k.length>0,j={padding:O,boundary:k.filter(Wn),altBoundary:A},{refs:M,floatingStyles:N,placement:te,isPositioned:P,middlewareData:ne}=gn({strategy:`fixed`,placement:ee,whileElementsMounted:(...e)=>en(...e,{animationFrame:m===`always`}),elements:{reference:_.anchor},middleware:[vn({mainAxis:i+D,alignmentAxis:o}),c&&yn({mainAxis:!0,crossAxis:!1,limiter:d===`partial`?bn():void 0,...j}),c&&xn({...j}),Sn({...j,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:i,height:a}=t.reference,o=e.floating.style;o.setProperty(`--radix-popper-available-width`,`${n}px`),o.setProperty(`--radix-popper-available-height`,`${r}px`),o.setProperty(`--radix-popper-anchor-width`,`${i}px`),o.setProperty(`--radix-popper-anchor-height`,`${a}px`)}}),x&&wn({element:x,padding:s}),Gn({arrowWidth:E,arrowHeight:D}),f&&Cn({strategy:`referenceHidden`,...j})]}),[re,ie]=Kn(te),oe=ae(h);z(()=>{P&&oe?.()},[P,oe]);let se=ne.arrow?.x,I=ne.arrow?.y,ce=ne.arrow?.centerOffset!==0,[le,ue]=S.useState();return z(()=>{v&&ue(window.getComputedStyle(v).zIndex)},[v]),(0,C.jsx)(`div`,{ref:M.setFloating,"data-radix-popper-content-wrapper":``,style:{...N,transform:P?N.transform:`translate(0, -200%)`,minWidth:`max-content`,zIndex:le,"--radix-popper-transform-origin":[ne.transformOrigin?.x,ne.transformOrigin?.y].join(` `),...ne.hide?.referenceHidden&&{visibility:`hidden`,pointerEvents:`none`}},dir:e.dir,children:(0,C.jsx)(Rn,{scope:n,placedSide:re,onArrowChange:w,arrowX:se,arrowY:I,shouldHideArrow:ce,children:(0,C.jsx)(F.div,{"data-side":re,"data-align":ie,...g,ref:b,style:{...g.style,animation:P?void 0:`none`}})})})});Bn.displayName=Ln;var Vn=`PopperArrow`,Hn={top:`bottom`,right:`left`,bottom:`top`,left:`right`},Un=S.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,i=zn(Vn,n),a=Hn[i.placedSide];return(0,C.jsx)(`span`,{ref:i.onArrowChange,style:{position:`absolute`,left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:``,right:`0 0`,bottom:`center 0`,left:`100% 0`}[i.placedSide],transform:{top:`translateY(100%)`,right:`translateY(50%) rotate(90deg) translateX(-50%)`,bottom:`rotate(180deg)`,left:`translateY(50%) rotate(-90deg) translateX(50%)`}[i.placedSide],visibility:i.shouldHideArrow?`hidden`:void 0},children:(0,C.jsx)(Dn,{...r,ref:t,style:{...r.style,display:`block`}})})});Un.displayName=Vn;function Wn(e){return e!==null}var Gn=e=>({name:`transformOrigin`,options:e,fn(t){let{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,s=a?0:e.arrowHeight,[c,l]=Kn(n),u={start:`0%`,center:`50%`,end:`100%`}[l],d=(i.arrow?.x??0)+o/2,f=(i.arrow?.y??0)+s/2,p=``,m=``;return c===`bottom`?(p=a?u:`${d}px`,m=`${-s}px`):c===`top`?(p=a?u:`${d}px`,m=`${r.floating.height+s}px`):c===`right`?(p=`${-s}px`,m=a?u:`${f}px`):c===`left`&&(p=`${r.floating.width+s}px`,m=a?u:`${f}px`),{data:{x:p,y:m}}}});function Kn(e){let[t,n=`center`]=e.split(`-`);return[t,n]}var qn=Pn,Jn=In,Yn=Bn,Xn=Un,Zn=n(r(),1),Qn=`Portal`,$n=S.forwardRef((e,t)=>{let{container:n,...r}=e,[i,a]=S.useState(!1);z(()=>a(!0),[]);let o=n||i&&globalThis?.document?.body;return o?Zn.createPortal((0,C.jsx)(F.div,{...r,ref:t}),o):null});$n.displayName=Qn;function er(e,t){return S.useReducer((e,n)=>t[e][n]??e,e)}var tr=e=>{let{present:t,children:n}=e,r=nr(t),i=typeof n==`function`?n({present:r.isPresent}):S.Children.only(n),a=p(r.ref,ir(i));return typeof n==`function`||r.isPresent?S.cloneElement(i,{ref:a}):null};tr.displayName=`Presence`;function nr(e){let[t,n]=S.useState(),r=S.useRef(null),i=S.useRef(e),a=S.useRef(`none`),[o,s]=er(e?`mounted`:`unmounted`,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}});return S.useEffect(()=>{let e=rr(r.current);a.current=o===`mounted`?e:`none`},[o]),z(()=>{let t=r.current,n=i.current;if(n!==e){let r=a.current,o=rr(t);e?s(`MOUNT`):o===`none`||t?.display===`none`?s(`UNMOUNT`):s(n&&r!==o?`ANIMATION_OUT`:`UNMOUNT`),i.current=e}},[e,s]),z(()=>{if(t){let e,n=t.ownerDocument.defaultView??window,o=a=>{let o=rr(r.current).includes(CSS.escape(a.animationName));if(a.target===t&&o&&(s(`ANIMATION_END`),!i.current)){let r=t.style.animationFillMode;t.style.animationFillMode=`forwards`,e=n.setTimeout(()=>{t.style.animationFillMode===`forwards`&&(t.style.animationFillMode=r)})}},c=e=>{e.target===t&&(a.current=rr(r.current))};return t.addEventListener(`animationstart`,c),t.addEventListener(`animationcancel`,o),t.addEventListener(`animationend`,o),()=>{n.clearTimeout(e),t.removeEventListener(`animationstart`,c),t.removeEventListener(`animationcancel`,o),t.removeEventListener(`animationend`,o)}}else s(`ANIMATION_END`)},[t,s]),{isPresent:[`mounted`,`unmountSuspended`].includes(o),ref:S.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}function rr(e){return e?.animationName||`none`}function ir(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ar=Symbol(`radix.slottable`);function or(e){let t=({children:e})=>(0,C.jsx)(C.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=ar,t}var sr=S.useInsertionEffect||z;function cr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[i,a,o]=lr({defaultProp:t,onChange:n}),s=e!==void 0,c=s?e:i;{let t=S.useRef(e!==void 0);S.useEffect(()=>{let e=t.current;if(e!==s){let t=e?`controlled`:`uncontrolled`,n=s?`controlled`:`uncontrolled`;console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=s},[s,r])}return[c,S.useCallback(t=>{if(s){let n=ur(t)?t(e):t;n!==e&&o.current?.(n)}else a(t)},[s,e,a,o])]}function lr({defaultProp:e,onChange:t}){let[n,r]=S.useState(e),i=S.useRef(n),a=S.useRef(t);return sr(()=>{a.current=t},[t]),S.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function ur(e){return typeof e==`function`}var dr=Object.freeze({position:`absolute`,border:0,width:1,height:1,padding:0,margin:-1,overflow:`hidden`,clip:`rect(0, 0, 0, 0)`,whiteSpace:`nowrap`,wordWrap:`normal`}),fr=`VisuallyHidden`,pr=S.forwardRef((e,t)=>(0,C.jsx)(F.span,{...e,ref:t,style:{...dr,...e.style}}));pr.displayName=fr;var mr=pr,[hr,gr]=k(`Tooltip`,[jn]),_r=jn(),vr=`TooltipProvider`,yr=700,br=`tooltip.open`,[xr,Sr]=hr(vr),Cr=e=>{let{__scopeTooltip:t,delayDuration:n=yr,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=S.useRef(!0),s=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,C.jsx)(xr,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:S.useCallback(e=>{s.current=e},[]),disableHoverableContent:i,children:a})};Cr.displayName=vr;var wr=`Tooltip`,[Tr,Er]=hr(wr),Dr=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=Sr(wr,e.__scopeTooltip),l=_r(t),[u,d]=S.useState(null),f=V(),p=S.useRef(0),m=o??c.disableHoverableContent,h=s??c.delayDuration,g=S.useRef(!1),[_,v]=cr({prop:r,defaultProp:i??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(br))):c.onClose(),a?.(e)},caller:wr}),y=S.useMemo(()=>_?g.current?`delayed-open`:`instant-open`:`closed`,[_]),b=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,v(!0)},[v]),x=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),w=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,v(!0),p.current=0},h)},[h,v]);return S.useEffect(()=>()=>{p.current&&=(window.clearTimeout(p.current),0)},[]),(0,C.jsx)(qn,{...l,children:(0,C.jsx)(Tr,{scope:t,contentId:f,open:_,stateAttribute:y,trigger:u,onTriggerChange:d,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?w():b()},[c.isOpenDelayedRef,w,b]),onTriggerLeave:S.useCallback(()=>{m?x():(window.clearTimeout(p.current),p.current=0)},[x,m]),onOpen:b,onClose:x,disableHoverableContent:m,children:n})})};Dr.displayName=wr;var Or=`TooltipTrigger`,kr=S.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=Er(Or,n),a=Sr(Or,n),o=_r(n),s=p(t,S.useRef(null),i.onTriggerChange),c=S.useRef(!1),l=S.useRef(!1),u=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener(`pointerup`,u),[u]),(0,C.jsx)(Jn,{asChild:!0,...o,children:(0,C.jsx)(F.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:s,onPointerMove:O(e.onPointerMove,e=>{e.pointerType!==`touch`&&!l.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),l.current=!0)}),onPointerLeave:O(e.onPointerLeave,()=>{i.onTriggerLeave(),l.current=!1}),onPointerDown:O(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener(`pointerup`,u,{once:!0})}),onFocus:O(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:O(e.onBlur,i.onClose),onClick:O(e.onClick,i.onClose)})})});kr.displayName=Or;var Ar=`TooltipPortal`,[jr,Mr]=hr(Ar,{forceMount:void 0}),Nr=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,a=Er(Ar,t);return(0,C.jsx)(jr,{scope:t,forceMount:n,children:(0,C.jsx)(tr,{present:n||a.open,children:(0,C.jsx)($n,{asChild:!0,container:i,children:r})})})};Nr.displayName=Ar;var Pr=`TooltipContent`,Fr=S.forwardRef((e,t)=>{let n=Mr(Pr,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i=`top`,...a}=e,o=Er(Pr,e.__scopeTooltip);return(0,C.jsx)(tr,{present:r||o.open,children:o.disableHoverableContent?(0,C.jsx)(Br,{side:i,...a,ref:t}):(0,C.jsx)(Ir,{side:i,...a,ref:t})})}),Ir=S.forwardRef((e,t)=>{let n=Er(Pr,e.__scopeTooltip),r=Sr(Pr,e.__scopeTooltip),i=S.useRef(null),a=p(t,i),[o,s]=S.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:d}=r,f=S.useCallback(()=>{s(null),d(!1)},[d]),m=S.useCallback((e,t)=>{let n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=Wr(r,Ur(r,n.getBoundingClientRect())),a=Gr(t.getBoundingClientRect());s(qr([...i,...a])),d(!0)},[d]);return S.useEffect(()=>()=>f(),[f]),S.useEffect(()=>{if(c&&u){let e=e=>m(e,u),t=e=>m(e,c);return c.addEventListener(`pointerleave`,e),u.addEventListener(`pointerleave`,t),()=>{c.removeEventListener(`pointerleave`,e),u.removeEventListener(`pointerleave`,t)}}},[c,u,m,f]),S.useEffect(()=>{if(o){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=c?.contains(t)||u?.contains(t),i=!Kr(n,o);r?f():i&&(f(),l())};return document.addEventListener(`pointermove`,e),()=>document.removeEventListener(`pointermove`,e)}},[c,u,o,l,f]),(0,C.jsx)(Br,{...e,ref:a})}),[Lr,Rr]=hr(wr,{isInside:!1}),zr=or(`TooltipContent`),Br=S.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=Er(Pr,n),l=_r(n),{onClose:u}=c;return S.useEffect(()=>(document.addEventListener(br,u),()=>document.removeEventListener(br,u)),[u]),S.useEffect(()=>{if(c.trigger){let e=e=>{e.target?.contains(c.trigger)&&u()};return window.addEventListener(`scroll`,e,{capture:!0}),()=>window.removeEventListener(`scroll`,e,{capture:!0})}},[c.trigger,u]),(0,C.jsx)(fe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,C.jsxs)(Yn,{"data-state":c.stateAttribute,...l,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-tooltip-content-available-width":`var(--radix-popper-available-width)`,"--radix-tooltip-content-available-height":`var(--radix-popper-available-height)`,"--radix-tooltip-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-tooltip-trigger-height":`var(--radix-popper-anchor-height)`},children:[(0,C.jsx)(zr,{children:r}),(0,C.jsx)(Lr,{scope:n,isInside:!0,children:(0,C.jsx)(mr,{id:c.contentId,role:`tooltip`,children:i||r})})]})})});Fr.displayName=Pr;var Vr=`TooltipArrow`,Hr=S.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=_r(n);return Rr(Vr,n).isInside?null:(0,C.jsx)(Xn,{...i,...r,ref:t})});Hr.displayName=Vr;function Ur(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return`left`;case i:return`right`;case n:return`top`;case r:return`bottom`;default:throw Error(`unreachable`)}}function Wr(e,t,n=5){let r=[];switch(t){case`top`:r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case`bottom`:r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case`left`:r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case`right`:r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Gr(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Kr(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],c=o.x,l=o.y,u=s.x,d=s.y;l>r!=d>r&&n<(u-c)*(r-l)/(d-l)+c&&(i=!i)}return i}function qr(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),Jr(t)}function Jr(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Yr=Cr,Xr=Dr,Zr=kr,Qr=Fr,$r=Yr,ei=Xr,ti=Zr,ni=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>(0,C.jsx)(Qr,{ref:r,sideOffset:t,className:c(`z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,e),...n}));ni.displayName=Qr.displayName;function ri(){let n=a(),{t:r}=s(),{voices:i,refreshVoices:o}=ee(),c=(e,t)=>{let n=localStorage.getItem(`dictation_${e}`);if(n===null)return t;let r=Number(n);return isNaN(r)?t:r},[l,f]=(0,S.useState)(``),[p,O]=(0,S.useState)(!1),[k,A]=(0,S.useState)(!1),[j,M]=(0,S.useState)(0),[N,te]=(0,S.useState)([]),[P,ne]=(0,S.useState)(()=>c(`rate`,.8)),[re,F]=(0,S.useState)(()=>c(`pitch`,1)),[ie,ae]=(0,S.useState)(()=>c(`repeatCount`,2)),[oe,se]=(0,S.useState)(()=>c(`interval`,3)),[I,ce]=(0,S.useState)(()=>localStorage.getItem(`dictation_voiceURI`)||``),[le,ue]=(0,S.useState)(!0),[de,fe]=(0,S.useState)(()=>localStorage.getItem(`dictation_splitBySpace`)===`true`),[pe,me]=(0,S.useState)(()=>localStorage.getItem(`dictation_useSmartSplit`)!==`false`),[he,ge]=(0,S.useState)(()=>c(`maxChunkLength`,15));(0,S.useEffect)(()=>{localStorage.setItem(`dictation_rate`,String(P)),localStorage.setItem(`dictation_pitch`,String(re)),localStorage.setItem(`dictation_repeatCount`,String(ie)),localStorage.setItem(`dictation_interval`,String(oe)),localStorage.setItem(`dictation_voiceURI`,I),localStorage.setItem(`dictation_splitBySpace`,String(de)),localStorage.setItem(`dictation_useSmartSplit`,String(pe)),localStorage.setItem(`dictation_maxChunkLength`,String(he))},[P,re,ie,oe,I,de,pe,he]);let L=(0,S.useRef)(null),R=(0,S.useRef)(null),[z,_e]=(0,S.useState)(0),B=(0,S.useRef)([]),V=(0,S.useRef)(0),ve=(0,S.useRef)(null);(0,S.useEffect)(()=>(window._speechUtterances||(window._speechUtterances=[]),()=>{R.current&&clearTimeout(R.current),window._speechUtterances=[],window.speechSynthesis.cancel()}),[]);let H=N[j]||``,U=N.length>0?(j+1)/N.length*100:0,ye=e=>{let t=e.toLowerCase();return t.includes(`hk`)||t.includes(`cantonese`)?`  (Cantonese)`:t.includes(`tw`)?`  (Taiwan)`:t.includes(`cn`)||t.includes(`zh`)&&!t.includes(`hk`)&&!t.includes(`tw`)?`  (Mandarin)`:t.includes(`en`)?`/  (English)`:e},W=(0,S.useMemo)(()=>i.filter(e=>{let t=e.lang.toLowerCase();return t.includes(`zh`)||t.includes(`cn`)||t.includes(`hk`)||t.includes(`tw`)||t.includes(`en`)}).sort((e,t)=>{let n=e=>{let t=0,n=e.name.toLowerCase();return n.includes(`google`)&&(t+=20),n.includes(`microsoft`)&&(t+=15),(n.includes(`enhanced`)||n.includes(`premium`)||n.includes(`high quality`))&&(t+=10),e.lang.toLowerCase().includes(`hk`)&&(t+=5),e.default&&(t+=2),t};return n(t)-n(e)}),[i]);(0,S.useEffect)(()=>{if(W.length>0){let e=W.some(e=>e.voiceURI===I);if(!I||!e){let e=W[0].voiceURI;setTimeout(()=>ce(e),0)}}},[W,I]),(0,S.useEffect)(()=>{let e=i.find(e=>e.voiceURI===I);if(W.length>0&&(!I||!e)){let e=W.find(e=>e.lang.toLowerCase().includes(`hk`)||e.lang.toLowerCase().includes(`cantonese`)),t=W.find(e=>e.lang.toLowerCase().includes(`zh`)||e.lang.toLowerCase().includes(`cn`)),n=e||t||W[0];n&&setTimeout(()=>ce(n.voiceURI),0)}},[i,W,I]);let G=(e,t)=>{if(typeof Intl>`u`||!Intl.Segmenter)return[e];let n=i.find(e=>e.voiceURI===I)?.lang||`zh-CN`,r=new Intl.Segmenter(n,{granularity:`word`}).segment(e),a=[],o=``;for(let{segment:e}of r)o.length+e.length>t&&o.length>0&&(a.push(o),o=``),o+=e;return o.length>0&&a.push(o),a},be=()=>{let e=l;e=e.replace(/([.!?;,)\]}]+)(?![.!?;,)\]}])/g,`$1
`),e=e.replace(/([([{])/g,`
$1`),e=e.replace(/\n+/g,`
`);let t=[];return de?t=e.split(/[\n\s]+/).map(e=>e.trim()).filter(e=>e.length>0):(t=e.split(`
`).map(e=>e.trim()).filter(e=>e.length>0),pe&&(t=t.flatMap(e=>G(e,he)))),t},xe=()=>{if(R.current&&=(clearTimeout(R.current),null),V.current>=B.current.length){O(!1);return}let e=B.current[V.current];M(e.index),_e(e.repeatIndex);let t=new SpeechSynthesisUtterance(e.text);t.rate=P,t.pitch=re;let n=i.find(e=>e.voiceURI===I);n&&(t.voice=n),window._speechUtterances.push(t),ve.current=t;let r=()=>{let e=window._speechUtterances.indexOf(t);e>-1&&window._speechUtterances.splice(e,1),R.current&&=(clearTimeout(R.current),null)},a=()=>{r(),ve.current=null,V.current++,L.current=setTimeout(()=>{V.current<B.current.length?xe():O(!1)},oe*1e3)};t.onend=a,t.onerror=e=>{console.error(`Speech error`,e),r(),V.current++,setTimeout(xe,500)};let o=Math.max(e.text.length*500+3e3,5e3);R.current=setTimeout(()=>{console.warn(`Speech watchdog triggered - forcing next item`),window.speechSynthesis.cancel(),a()},o),window.speechSynthesis.speak(t)},Se=()=>{let e=be();if(e.length===0)return;te(e),O(!0),A(!1),window.speechSynthesis.cancel();let t=new SpeechSynthesisUtterance(``);t.volume=0,window.speechSynthesis.speak(t),i.length===0&&window.speechSynthesis.getVoices();let n=[];e.forEach((e,t)=>{for(let r=0;r<ie;r++)n.push({text:e,index:t,repeatIndex:r+1})}),B.current=n,V.current=0,xe()},K=()=>{O(!1),A(!1),window.speechSynthesis.cancel(),L.current&&=(clearTimeout(L.current),null),R.current&&=(clearTimeout(R.current),null),B.current=[],V.current=0,ve.current=null,window._speechUtterances=[]};(0,S.useEffect)(()=>()=>{K()},[]);let q=()=>{window.speechSynthesis.pause(),A(!0),L.current&&=(clearTimeout(L.current),null),R.current&&=(clearTimeout(R.current),null)},Ce=()=>{window.speechSynthesis.resume(),A(!1),!window.speechSynthesis.speaking&&V.current<B.current.length&&xe()};return(0,C.jsxs)(`div`,{className:`min-h-screen bg-gray-50 flex flex-col`,children:[(0,C.jsxs)(`div`,{className:`sticky top-0 bg-white z-10 px-4 py-3 flex items-center gap-3 border-b shadow-sm`,children:[(0,C.jsx)(`button`,{onClick:()=>n(-1),className:`p-1 rounded-full hover:bg-gray-100`,children:(0,C.jsx)(e,{className:`w-6 h-6 text-gray-700`})}),(0,C.jsx)(`h1`,{className:`text-lg font-bold text-gray-900`,children:r(`dictation.title`,``)})]}),(0,C.jsxs)(`div`,{className:`flex-1 p-4 max-w-2xl mx-auto w-full space-y-6`,children:[!p&&(0,C.jsx)(d,{children:(0,C.jsxs)(u,{className:`space-y-4 pt-6`,children:[(0,C.jsx)(T,{placeholder:r(`dictation.placeholder`,`...`),className:`min-h-[200px] text-lg`,value:l,onChange:e=>f(e.target.value)}),(0,C.jsxs)(`div`,{className:`flex flex-col gap-4`,children:[(0,C.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,C.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,C.jsx)(w,{id:`split-by-space`,checked:de,onCheckedChange:fe}),(0,C.jsx)(D,{htmlFor:`split-by-space`,children:r(`dictation.split_by_space`,``)})]}),(0,C.jsxs)(`p`,{className:`text-xs text-gray-500 text-right`,children:[l.length,`/300`]})]}),!de&&(0,C.jsxs)(`div`,{className:`flex items-center justify-between border-t pt-4`,children:[(0,C.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[(0,C.jsx)(w,{id:`smart-split`,checked:pe,onCheckedChange:me}),(0,C.jsxs)(`div`,{className:`grid gap-1.5 leading-none`,children:[(0,C.jsx)(D,{htmlFor:`smart-split`,children:r(`dictation.smart_split`,``)}),(0,C.jsx)(`p`,{className:`text-xs text-muted-foreground`,children:r(`dictation.smart_split_desc`,``)})]})]}),pe&&(0,C.jsxs)(`div`,{className:`flex items-center space-x-2 w-1/2`,children:[(0,C.jsxs)(D,{className:`text-xs whitespace-nowrap`,children:[r(`dictation.max_chars`,``),`: `,he]}),(0,C.jsx)(E,{value:[he],min:5,max:50,step:1,onValueChange:e=>ge(e[0]),className:`flex-1`})]})]})]})]})}),p&&(0,C.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-10 space-y-8`,children:[(0,C.jsxs)(`div`,{className:`text-center space-y-2`,children:[(0,C.jsxs)(`p`,{className:`text-sm text-gray-500 uppercase tracking-widest`,children:[r(`dictation.progress`,``),` `,j+1,` / `,N.length]}),(0,C.jsx)(`div`,{className:`w-64 h-2 bg-gray-200 rounded-full mx-auto overflow-hidden`,children:(0,C.jsx)(`div`,{className:`h-full bg-indigo-600 transition-all duration-300`,style:{width:`${U}%`}})})]}),(0,C.jsx)(d,{className:`w-full max-w-md border-2 border-indigo-100 shadow-lg`,children:(0,C.jsxs)(u,{className:`flex items-center justify-center min-h-[200px] p-8 relative`,children:[le?(0,C.jsxs)(`div`,{className:`text-center`,children:[(0,C.jsx)(x,{className:`w-16 h-16 text-indigo-200 mx-auto mb-4 animate-pulse`}),(0,C.jsx)(`p`,{className:`text-gray-400 font-medium`,children:r(`dictation.listening`,`...`)})]}):(0,C.jsx)(`h2`,{className:`text-3xl font-bold text-center text-gray-900 break-words`,children:H}),(0,C.jsxs)(`div`,{className:`absolute bottom-4 right-4 text-xs text-gray-400 font-mono`,children:[z,`/`,ie]})]})}),(0,C.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,C.jsx)(m,{variant:`outline`,size:`icon`,className:`h-10 w-10 rounded-full`,onClick:K,children:(0,C.jsx)(b,{className:`h-4 w-4 fill-gray-600 text-gray-600`})}),(0,C.jsx)(m,{variant:`outline`,size:`icon`,className:`h-12 w-12 rounded-full`,onClick:()=>{let e=B.current[V.current];if(!e)return;let t=e.index;if(t===0){window.speechSynthesis.cancel(),L.current&&clearTimeout(L.current),R.current&&clearTimeout(R.current),V.current=0,A(!1),xe();return}let n=B.current.findIndex(e=>e.index===t-1);n!==-1&&(window.speechSynthesis.cancel(),L.current&&clearTimeout(L.current),R.current&&clearTimeout(R.current),V.current=n,A(!1),xe())},children:(0,C.jsx)(v,{className:`h-5 w-5 text-gray-700`})}),(0,C.jsx)(m,{variant:`default`,size:`icon`,className:`h-16 w-16 rounded-full shadow-xl bg-indigo-600 hover:bg-indigo-700`,onClick:()=>{k?Ce():p&&q()},children:k?(0,C.jsx)(_,{className:`h-8 w-8 ml-1`}):(0,C.jsx)(g,{className:`h-8 w-8`})}),(0,C.jsx)(m,{variant:`outline`,size:`icon`,className:`h-12 w-12 rounded-full`,onClick:()=>{let e=B.current[V.current];if(!e)return;let t=e.index,n=B.current.findIndex(e=>e.index>t);n!==-1&&(window.speechSynthesis.cancel(),L.current&&clearTimeout(L.current),R.current&&clearTimeout(R.current),V.current=n,A(!1),xe())},children:(0,C.jsx)(y,{className:`h-5 w-5 text-gray-700`})}),(0,C.jsx)(m,{variant:`outline`,size:`icon`,className:`h-10 w-10 rounded-full`,onClick:()=>ue(!le),children:le?``:``})]})]}),(0,C.jsx)(d,{children:(0,C.jsxs)(u,{className:`space-y-6 pt-6`,children:[(0,C.jsxs)(`div`,{className:`space-y-2`,children:[(0,C.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,C.jsx)(D,{children:r(`dictation.voice`,``)}),(0,C.jsx)($r,{children:(0,C.jsxs)(ei,{children:[(0,C.jsx)(ti,{asChild:!0,children:(0,C.jsxs)(`div`,{className:`flex items-center text-xs text-blue-500 cursor-help gap-1`,children:[(0,C.jsx)(h,{className:`w-3 h-3`}),(0,C.jsx)(`span`,{children:`?`})]})}),(0,C.jsxs)(ni,{className:`max-w-[300px]`,children:[(0,C.jsx)(`p`,{children:`Web`}),(0,C.jsxs)(`ul`,{className:`list-disc pl-4 mt-2 space-y-1`,children:[(0,C.jsxs)(`li`,{children:[(0,C.jsx)(`strong`,{children:`Chrome`}),`:  "Google" `]}),(0,C.jsxs)(`li`,{children:[(0,C.jsx)(`strong`,{children:`Mac`}),`:  ---  "Enhanced/" `]}),(0,C.jsxs)(`li`,{children:[(0,C.jsx)(`strong`,{children:`Windows`}),`:  -- `]})]})]})]})})]}),(0,C.jsxs)(`div`,{className:`flex gap-2`,children:[(0,C.jsxs)(`select`,{className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50`,value:I,onChange:e=>ce(e.target.value),onClick:o,children:[(0,C.jsx)(`option`,{value:``,disabled:!0,children:W.length===0?r(`dictation.loading_voices`,`...`):r(`dictation.select_voice`,``)}),W.map(e=>(0,C.jsxs)(`option`,{value:e.voiceURI,children:[ye(e.lang),` - `,e.name]},e.voiceURI))]}),(0,C.jsx)(m,{variant:`outline`,size:`icon`,className:`shrink-0`,onClick:()=>{o(),window.speechSynthesis.cancel()},title:`Reload Voices`,children:(0,C.jsx)(t,{className:`h-4 w-4`})})]})]}),(0,C.jsxs)(`div`,{className:`grid grid-cols-2 gap-6`,children:[(0,C.jsxs)(`div`,{className:`space-y-4`,children:[(0,C.jsx)(`div`,{className:`flex justify-between`,children:(0,C.jsxs)(D,{children:[r(`dictation.rate`,``),`: `,P,`x`]})}),(0,C.jsx)(E,{value:[P],min:.5,max:2,step:.1,onValueChange:([e])=>ne(e)})]}),(0,C.jsxs)(`div`,{className:`space-y-4`,children:[(0,C.jsx)(`div`,{className:`flex justify-between`,children:(0,C.jsxs)(D,{children:[r(`dictation.pitch`,``),`: `,re]})}),(0,C.jsx)(E,{value:[re],min:.5,max:2,step:.1,onValueChange:([e])=>F(e)})]}),(0,C.jsxs)(`div`,{className:`space-y-4`,children:[(0,C.jsx)(`div`,{className:`flex justify-between`,children:(0,C.jsxs)(D,{children:[r(`dictation.interval`,``),`: `,oe,`s`]})}),(0,C.jsx)(E,{value:[oe],min:1,max:10,step:1,onValueChange:([e])=>se(e)})]}),(0,C.jsxs)(`div`,{className:`space-y-4`,children:[(0,C.jsx)(`div`,{className:`flex justify-between`,children:(0,C.jsxs)(D,{children:[r(`dictation.repeat`,``),`: `,ie]})}),(0,C.jsx)(E,{value:[ie],min:1,max:5,step:1,onValueChange:([e])=>ae(e)})]})]})]})}),!p&&(0,C.jsxs)(m,{className:`w-full h-12 text-lg font-bold shadow-md`,onClick:Se,disabled:!l.trim(),children:[(0,C.jsx)(_,{className:`w-5 h-5 mr-2`}),r(`dictation.start`,``)]})]})]})}export{ri as default};